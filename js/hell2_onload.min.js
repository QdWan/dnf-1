window.onload=function(){$("#titleScreen_normal").onmouseover=function(){$("#titleScreen_description_nothing").style.display="none";$("#titleScreen_description_normal").style.display="block";$("#titleScreen_description_rpg").style.display="none"};$("#titleScreen_rpg").onmouseover=function(){$("#titleScreen_description_nothing").style.display="none";$("#titleScreen_description_normal").style.display="none";$("#titleScreen_description_rpg").style.display="block"};$("#titleScreen_normal").value="일반 모드";$("#titleScreen_normal").disabled="";$("#titleScreen_rpg").value="RPG 모드";$("#titleScreen_rpg").disabled="";$("#titleScreen_normal").onclick=function(){playMode="normal";$("#mode").innerHTML="일반";$("#cover").style.display="block";$("#wrapper").style.display="block";$("#titleScreen").style.display="none";main()};$("#titleScreen_rpg").onclick=function(){playMode="rpg";$("#mode").innerHTML="RPG";$("#power_area").style.display="block";$("#difficulty").selectedIndex=4;$("#difficulty").disabled="disabled";$("#date_config").disabled="disabled";$("#pot_tradable").disabled="disabled";$("#func_basicItem").disabled="disabled";$("#option_basicItem").disabled="disabled";$("#shift_chance").disabled="disabled";$("#cover").style.display="block";$("#wrapper").style.display="block";$("#titleScreen").style.display="none";main()}};function main(){var d=[];for(b=0;b<$("#dungeon").options.length;b++){if(d.indexOf($("#dungeon").options[b].value)===-1){d.push($("#dungeon").options[b].value)}}var l=[];var k=[];k.push("");for(b=0;b<d.length;b++){for(a=0;a<levelList.normal[d[b]].length;a++){if(l.indexOf(levelList.normal[d[b]][a])===-1){l.push(levelList.normal[d[b]][a])}}for(a=0;a<levelList.rpg[d[b]].length;a++){if(l.indexOf(levelList.rpg[d[b]][a])===-1){l.push(levelList.rpg[d[b]][a])}}if(k.indexOf(areaList[d[b]])===-1){k.push(areaList[d[b]])}}var g=[];for(b=0;b<itemList.length;b++){if(l.indexOf(itemList[b]["level"])===-1||k.indexOf(itemList[b]["goyu"])===-1){g.push(b)}}for(b=g.length-1;b>=0;b--){itemList.splice(g[b],1)}for(b=0;b<itemList.length;b++){if(itemList[b]["goyu"]!==""){goyuList.push(itemList[b])}}for(var b=0;b<itemList.length;b++){switch(itemList[b]["sort1"]){case"방어구":if(equipList.indexOf(itemList[b]["sort2"])<0){equipList.push(itemList[b]["sort2"])}break;case"":break;default:if(equipList.indexOf(itemList[b]["sort3"])<0){equipList.push(itemList[b]["sort3"])}break}}maxQuantity=0;var m=0;for(var b=0;b<dropQuantityList[0].length;b++){if(m<dropQuantityList[0][b]){m=dropQuantityList[0][b]}}maxQuantity+=m;m=0;for(var b=0;b<dropQuantityList[1].length;b++){if(m<dropQuantityList[1][b]){m=dropQuantityList[1][b]}}maxQuantity+=m;m=0;for(var b=0;b<dropQuantityList[2].length;b++){for(var a=0;a<dropQuantityList[2][b].length;a++){if(m<dropQuantityList[2][b][a]){m=dropQuantityList[2][b][a]}}}maxQuantity+=m;for(var b=0;b<maxQuantity;b++){var f=document.createElement("div");f.id="item"+b.toString();f.className="item";f.innerHTML="				<div id='description"+b.toString()+"' class='description'>					<p id='item_name"+b.toString()+"' class='item_name'></p>				</div>				<div id='item_img"+b.toString()+"' class='item_img'></div>								<div id='effect_appear"+b.toString()+"' class='effect_appear'></div>				<div id='effect_land"+b.toString()+"' class='effect_land'></div>				<div id='effect_wait"+b.toString()+"' class='effect_wait'></div>";$("#frame_top").appendChild(f)}for(var b=0;b<maxQuantity;b++){coordinate.push([0,0])}chanceList_num=deepCopy(chanceList_num_default);setDate();setPower();try{sound_appear=new Audio;sound_appear.volume=0.3;sound_land=new Audio;sound_land.volume=0.3;if(sound_appear.canPlayType("audio/mpeg")!==""){sound_appear.src="http://cfile206.uf.daum.net/attach/26393B3B559DCAF43351BB";sound_land.src="http://cfile237.uf.daum.net/attach/220E343D559CD61C10451E"}else{sound_appear.src="http://cfile225.uf.daum.net/attach/221A6F44559DD6D31E0F30";sound_land.src="http://cfile226.uf.daum.net/attach/2722E144559DD6D41A932A"}bgmList={"0":new Audio("./sound/bgm_0.mp3"),"1":new Audio("./sound/bgm_1.mp3"),"2":new Audio("./sound/bgm_2.mp3"),"3":new Audio("./sound/bgm_3.mp3"),"4":new Audio("./sound/bgm_4.mp3"),"5":new Audio("./sound/bgm_5.mp3"),"6":new Audio("./sound/bgm_6.mp3"),"7":new Audio("./sound/bgm_7.mp3"),"8":new Audio("./sound/bgm_8.mp3"),"9":new Audio("./sound/bgm_9.mp3"),"10":new Audio("./sound/bgm_10.mp3"),"11":new Audio("./sound/bgm_11.mp3"),"12":new Audio("./sound/bgm_12.mp3"),"13":new Audio("./sound/bgm_13.mp3"),"14":new Audio("./sound/bgm_14.mp3"),"15":new Audio("./sound/bgm_15.mp3"),"16":new Audio("./sound/bgm_16.mp3"),"17":new Audio("./sound/bgm_17.mp3"),hell:new Audio("./sound/bgm_hell.mp3")};for(var h in bgmList){if(bgmList.hasOwnProperty(h)){bgmList[h].loop=true;bgmList[h].volume=0.2}}bgmList.hell.volume=0.1;sfxList={open:new Audio("./sound/win_open.mp3"),close:new Audio("./sound/win_close.mp3"),hell_gabriel_yes:new Audio("./sound/hell_gabriel_yes.mp3"),hell_gabriel_no:new Audio("./sound/hell_gabriel_no.mp3"),wearing:new Audio("./sound/hell_wearing.mp3"),enchant_progress:new Audio("./sound/enchant_progress.mp3"),enchant_success:new Audio("./sound/enchant_success.mp3"),enchant_fail:new Audio("./sound/enchant_fail.mp3"),enchant_zero:new Audio("./sound/enchant_zero.mp3"),pot_opening:new Audio("./sound/pot_opening.mp3"),};sfxList.open.volume=0.4;sfxList.close.volume=0.4;sfxList.hell_gabriel_yes.volume=0.4;sfxList.hell_gabriel_no.volume=0.4;sfxList.wearing.volume=0.4;sfxList.enchant_progress.volume=0.4;sfxList.enchant_success.volume=0.4;sfxList.enchant_fail.volume=0.4;sfxList.enchant_zero.volume=0.4;sfxList.pot_opening.volume=0.4}catch(c){$("#option_sound").disabled="disabled";$("#label_sound").innerHTML="사운드 미지원";$("#option_bgm").disabled="disabled";$("#label_bgm").innerHTML="BGM 미지원";$("#bgm_type").disabled="disabled";$("#bgm_type").style.width="40px"}imageList.push("./sprite/images/sprite_hell.png");imageList.push("./sprite/images/sprite_item.png");for(var b=0;b<=17;b++){imageList.push("./images/epic/background_"+b.toString()+".jpg")}imageList.push("./images/epic/menu_background.png");imageList.push("./images/epic/wrap_title.png");imageList.push("./images/epic/soul.png");imageList.push("./images/epic/beed.png");imageList.push("./images/epic/cost.png");imageList.push("./images/epic/heroPot.png");imageList.push("./images/epic/epic_appear.png");imageList.push("./images/epic/epic_land.png");imageList.push("./images/epic/epic_wait.png");imageList.push("./images/epic/popup_record.png");imageList.push("./images/epic/popup_inventory.png");imageList.push("./images/epic/popup_set.png");imageList.push("./images/epic/popup_craft.png");imageList.push("./images/epic/popup_equip.png");imageList.push("./images/epic/pot_opening.gif");imageList.push("./images/epic/icon_option.png");imageList.push("./images/epic/gabriel.png");loadImages(imageList,function(){$("#cover").style.display="none";dungeon_select();generateInventory();generateSet();generateCraft();var p=[];for(o=0;o<itemList.length;o++){if(p.indexOf(itemList[o]["sort1"])===-1&&itemList[o]["sort1"]!==""){p.push(itemList[o]["sort1"])}}for(o=0;o<p.length;o++){var q=document.createElement("option");q.value=p[o];q.text=p[o];$("#objective_item_first").add(q)}var p=[];for(o=0;o<itemList.length;o++){if(itemList[o]["set"]!==""){if(p.indexOf(itemList[o]["sort2"])===-1&&itemList[o]["sort2"]!==""){p.push(itemList[o]["sort2"])}}}for(o=0;o<p.length;o++){var q=document.createElement("option");q.value=p[o];q.text=p[o];$("#objective_set_first").add(q)}var p=[[],[],[],[]];for(o=0;o<itemList.length;o++){if(itemList[o]["set"]!==""){if(p[2].indexOf(itemList[o]["sort1"])===-1&&itemList[o]["sort1"]!==""){p[2].push(itemList[o]["sort1"])}if(p[3].indexOf(itemList[o]["level"])===-1&&typeof itemList[o]["level"]!=="undefined"){p[3].push(itemList[o]["level"])}}if(p[0].indexOf(itemList[o]["sort1"])===-1&&itemList[o]["sort1"]!==""){p[0].push(itemList[o]["sort1"])}if(p[1].indexOf(itemList[o]["level"])===-1&&typeof itemList[o]["level"]!=="undefined"){p[1].push(itemList[o]["level"]);p[1].sort()}}for(o=0;o<p[0].length;o++){var n=document.createElement("option");n.value=p[0][o];n.text=p[0][o];$("#record_filter_first").add(n);var j=document.createElement("option");j.value=p[0][o];j.text=p[0][o];$("#inventory_filter_first").add(j);var e=document.createElement("option");e.value=p[0][o];e.text=p[0][o];$("#craft_filter_first").add(e)}for(o=0;o<p[1].length;o++){var n=document.createElement("option");n.value=p[1][o].toString();n.text="Lv."+p[1][o].toString();$("#record_filter_level").add(n);var j=document.createElement("option");j.value=p[1][o].toString();j.text="Lv."+p[1][o].toString();$("#inventory_filter_level").add(j);var e=document.createElement("option");e.value=p[1][o].toString();e.text="Lv."+p[1][o].toString();$("#craft_filter_level").add(e)}for(o=0;o<p[2].length;o++){var q=document.createElement("option");q.value=p[2][o];q.text=p[2][o];$("#set_filter_first").add(q)}for(o=0;o<p[3].length;o++){var q=document.createElement("option");q.value=p[3][o].toString();q.text="Lv."+p[3][o].toString();$("#set_filter_level").add(q)}$("#objective_list").onchange=function(){for(o=0;o<$("#objective_list").options.length;o++){if($("#objective_list").options[o].value!==""){if($("#objective_list").options[o].value===$("#objective_list").value){$("#objective_"+$("#objective_list").options[o].value).style.display="block"}else{$("#objective_"+$("#objective_list").options[o].value).style.display="none"}}}if($("#objective_list").value!=="none"){$("#objective_list").style.background="#F4FA58"}else{$("#objective_list").style.background=""}checkObjective("setting")};$("#objective_item_first").onchange=function(){var t=$("#objective_item_first").value;$("#objective_item_second").selectedIndex=0;$("#objective_item_third").selectedIndex=0;$("#objective_item_name").selectedIndex=0;$("#objective_item_second").disabled="disabled";$("#objective_item_third").disabled="disabled";$("#objective_item_name").disabled="disabled";$("#objective_item_second").style.backgroundColor="white";$("#objective_item_third").style.backgroundColor="white";$("#objective_item_name").style.backgroundColor="white";var u=$("#objective_item_second");clearSelect(u);var s=document.createElement("option");s.value="";s.text="모든 에픽 아이템";u.add(s);var u=$("#objective_item_third");clearSelect(u);var s=document.createElement("option");s.value="";s.text="모든 에픽 아이템";u.add(s);var u=$("#objective_item_name");clearSelect(u);var s=document.createElement("option");s.value="";s.text="모든 에픽 아이템";u.add(s);if(t!==""){$("#objective_item_second").style.backgroundColor="#F4FA58";$("#objective_item_second").disabled="";var i=[];for(o=0;o<itemList.length;o++){if(i.indexOf(itemList[o]["sort2"])===-1&&itemList[o]["sort1"]===t&&itemList[o]["sort2"]!==""){i.push(itemList[o]["sort2"])}}var u=$("#objective_item_second");clearSelect(u);var s=document.createElement("option");s.value="";s.text="모든 "+t+" 아이템";u.add(s);var s=document.createElement("option");s.value="";s.disabled="disabled";s.text="===============";u.add(s);for(o=0;o<i.length;o++){var s=document.createElement("option");s.value=i[o];s.text=i[o];u.add(s)}}checkObjective("setting")};$("#objective_item_second").onchange=function(){var t=$("#objective_item_second").value;$("#objective_item_third").selectedIndex=0;$("#objective_item_name").selectedIndex=0;$("#objective_item_third").disabled="disabled";$("#objective_item_name").disabled="disabled";$("#objective_item_third").style.backgroundColor="white";$("#objective_item_name").style.backgroundColor="white";var u=$("#objective_item_third");clearSelect(u);var s=document.createElement("option");s.value="";s.text="모든 에픽 아이템";u.add(s);var u=$("#objective_item_name");clearSelect(u);var s=document.createElement("option");s.value="";s.text="모든 에픽 아이템";u.add(s);if(t!==""){$("#objective_item_third").style.backgroundColor="#F4FA58";$("#objective_item_third").disabled="";var i=[];for(o=0;o<itemList.length;o++){if(i.indexOf(itemList[o]["sort3"])===-1&&itemList[o]["sort2"]===t&&itemList[o]["sort1"]===$("#objective_item_first").value&&itemList[o]["sort3"]!==""){i.push(itemList[o]["sort3"])}}var u=$("#objective_item_third");clearSelect(u);var s=document.createElement("option");s.value="";s.text="모든 "+t+" 아이템";u.add(s);var s=document.createElement("option");s.value="";s.disabled="disabled";s.text="===============";u.add(s);for(o=0;o<i.length;o++){var s=document.createElement("option");s.value=i[o];s.text=i[o];u.add(s)}}checkObjective("setting")};$("#objective_item_third").onchange=function(){var t=$("#objective_item_third").value;$("#objective_item_name").selectedIndex=0;$("#objective_item_name").disabled="disabled";$("#objective_item_name").style.backgroundColor="white";var u=$("#objective_item_name");clearSelect(u);var s=document.createElement("option");s.value="";s.text="모든 에픽 아이템";u.add(s);if(t!==""){$("#objective_item_name").style.backgroundColor="#F4FA58";$("#objective_item_name").disabled="";var i=[[],[],[]];for(o=0;o<itemList.length;o++){if(i[0].indexOf(itemList[o]["name"])===-1&&itemList[o]["sort3"]===t&&itemList[o]["sort2"]===$("#objective_item_second").value&&itemList[o]["sort1"]===$("#objective_item_first").value&&itemList[o]["name"]!==""){i[0].push(itemList[o]["name"]);i[1].push(itemList[o]["level"]);i[2].push(itemList[o]["set"])}}var u=$("#objective_item_name");clearSelect(u);var s=document.createElement("option");s.value="";s.text="모든 "+t+" 아이템";u.add(s);var s=document.createElement("option");s.value="";s.disabled="disabled";s.text="===============";u.add(s);for(o=0;o<i[0].length;o++){var s=document.createElement("option");s.value=i[0][o];if(i[2][o]!==""){s.text="Lv."+i[1][o]+" | "+i[0][o]+" ("+i[2][o]+")"}else{s.text="Lv."+i[1][o]+" | "+i[0][o]}u.add(s)}}checkObjective("setting")};$("#objective_item_name").onchange=function(){checkObjective("setting")};$("#objective_set_first").onchange=function(){var t=$("#objective_set_first").value;$("#objective_set_name").selectedIndex=0;$("#objective_set_name").disabled="disabled";$("#objective_set_name").style.backgroundColor="white";var u=$("#objective_set_name");clearSelect(u);var s=document.createElement("option");s.value="";s.text="모든 세트";u.add(s);if(t!==""){$("#objective_set_name").style.backgroundColor="#F4FA58";$("#objective_set_name").disabled="";var i=[[],[]];for(o=0;o<itemList.length;o++){if(i[0].indexOf(itemList[o]["set"])===-1&&itemList[o]["sort2"]===t&&itemList[o]["set"]!==""){i[0].push(itemList[o]["set"]);i[1].push(itemList[o]["level"])}}var u=$("#objective_set_name");clearSelect(u);var s=document.createElement("option");s.value="";s.text="모든 "+t+" 세트";u.add(s);var s=document.createElement("option");s.value="";s.disabled="disabled";s.text="===============";u.add(s);for(o=0;o<i[0].length;o++){var s=document.createElement("option");s.value=i[0][o];s.text="Lv."+i[1][o]+" | "+i[0][o];u.add(s)}}checkObjective("setting")};$("#objective_set_name").onchange=function(){checkObjective("setting")};var r=["record","inventory","set","craft"];for(var o=0;o<r.length;o++){(function(u){$("#"+u+"_filter_first").onchange=(function(y){return function(){x(y)}})(u);function x(B){var A=$("#style_"+B+"_filter_first");var D=$("#"+B+"_filter_first").value;try{$("#style_"+B+"_filter_first").innerHTML="";$("#style_"+B+"_filter_second").innerHTML="";$("#style_"+B+"_filter_third").innerHTML="";$("#"+B+"_filter_second").selectedIndex=0;$("#"+B+"_filter_third").selectedIndex=0;$("#"+B+"_filter_second").disabled="disabled";$("#"+B+"_filter_third").disabled="disabled";$("#"+B+"_filter_first").style.backgroundColor="white";$("#"+B+"_filter_second").style.backgroundColor="white";$("#"+B+"_filter_third").style.backgroundColor="white";var F=$("#"+B+"_filter_second");clearSelect(F);var C=document.createElement("option");C.value="";C.text="2차 분류 (전체 보기)";F.add(C);var F=$("#"+B+"_filter_third");clearSelect(F);var C=document.createElement("option");C.value="";C.text="3차 분류 (전체 보기)";F.add(C);if($("#"+B+"_filter_first").value!==""){A.innerHTML="							#"+B+" span.equip:not(."+D+") {								display:none;							}							#"+B+" span.run:not(."+D+") {								display:none;							}							#"+B+" span.get:not(."+D+") {								display:none;							}														#"+B+" tr.equip:not(."+D+") {								display:none;							}							#"+B+" tr.run:not(."+D+") {								display:none;							}							#"+B+" tr.get:not(."+D+") {								display:none;							}";$("#"+B+"_filter_first").style.backgroundColor="#F4FA58";$("#"+B+"_filter_second").disabled="";var z=[];for(var y=0;y<itemList.length;y++){if(z.indexOf(itemList[y]["sort2"])===-1&&itemList[y]["sort1"]===D&&itemList[y]["sort2"]!==""){z.push(itemList[y]["sort2"])}}var F=$("#"+B+"_filter_second");clearSelect(F);var C=document.createElement("option");C.value="";C.text="2차 분류 (전체 보기)";F.add(C);var C=document.createElement("option");C.value="";C.disabled="disabled";C.text="===============";F.add(C);for(B=0;B<z.length;B++){var C=document.createElement("option");C.value=z[B];C.text=z[B];F.add(C)}}}catch(E){alert('＊경고 : "1차 분류" 필터링을 사용할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#"+B+"_filter_first").selectedIndex=0}}$("#"+u+"_filter_second").onchange=(function(y){return function(){w(y)}})(u);function w(B){var A=$("#style_"+B+"_filter_second");var D=$("#"+B+"_filter_second").value;try{$("#style_"+B+"_filter_second").innerHTML="";$("#style_"+B+"_filter_third").innerHTML="";$("#"+B+"_filter_third").selectedIndex=0;$("#"+B+"_filter_third").disabled="disabled";$("#"+B+"_filter_second").style.backgroundColor="white";$("#"+B+"_filter_third").style.backgroundColor="white";var F=$("#"+B+"_filter_third");clearSelect(F);var C=document.createElement("option");C.value="";C.text="3차 분류 (전체 보기)";F.add(C);if($("#"+B+"_filter_second").value!==""){A.innerHTML="							#"+B+" span.equip:not(."+D+") {								display:none;							}							#"+B+" span.run:not(."+D+") {								display:none;							}							#"+B+" span.get:not(."+D+") {								display:none;							}														#"+B+" tr.equip:not(."+D+") {								display:none;							}							#"+B+" tr.run:not(."+D+") {								display:none;							}							#"+B+" tr.get:not(."+D+") {								display:none;							}";$("#"+B+"_filter_second").style.backgroundColor="#F4FA58";$("#"+B+"_filter_third").disabled="";var z=[];for(var y=0;y<itemList.length;y++){if(z.indexOf(itemList[y]["sort3"])===-1&&itemList[y]["sort2"]===D&&itemList[y]["sort3"]!==""){z.push(itemList[y]["sort3"])}}var F=$("#"+B+"_filter_third");clearSelect(F);var C=document.createElement("option");C.value="";C.text="3차 분류 (전체 보기)";F.add(C);var C=document.createElement("option");C.value="";C.disabled="disabled";C.text="===============";F.add(C);for(B=0;B<z.length;B++){var C=document.createElement("option");C.value=z[B];C.text=z[B];F.add(C)}}}catch(E){alert('＊경고 : "2차 분류" 필터링을 사용할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#"+B+"_filter_second").selectedIndex=0}}$("#"+u+"_filter_third").onchange=(function(y){return function(){v(y)}})(u);function v(z){var y=$("#style_"+z+"_filter_third");var A=$("#"+z+"_filter_third").value;try{if($("#"+z+"_filter_third").value!==""){y.innerHTML="							#"+z+" span.equip:not(."+A+") {								display:none;							}							#"+z+" span.run:not(."+A+") {								display:none;							}							#"+z+" span.get:not(."+A+") {								display:none;							}														#"+z+" tr.equip:not(."+A+") {								display:none;							}							#"+z+" tr.run:not(."+A+") {								display:none;							}							#"+z+" tr.get:not(."+A+") {								display:none;							}";$("#"+z+"_filter_third").style.backgroundColor="#F4FA58"}else{y.innerHTML="";$("#"+z+"_filter_third").style.backgroundColor="white"}}catch(B){alert('＊경고 : "3차 분류" 필터링을 사용할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#"+z+"_filter_second").selectedIndex=0}}$("#"+u+"_filter_level").onchange=(function(y){return function(){s(y)}})(u);function s(z){var y=$("#style_"+z+"_filter_level");var A="lv"+$("#"+z+"_filter_level").value;try{if($("#"+z+"_filter_level").value!==""){y.innerHTML="							#"+z+" span.equip:not(."+A+") {								display:none;							}														#"+z+" tr.equip:not(."+A+") {								display:none;							}";$("#"+z+"_filter_level").style.backgroundColor="#F4FA58"}else{y.innerHTML="";$("#"+z+"_filter_level").style.backgroundColor="white"}}catch(B){alert('＊경고 : "레벨 분류" 필터링을 사용할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#"+z+"_filter_level").selectedIndex=0}}$("#"+u+"_filter_clear").onclick=(function(y){return function(){t(y)}})(u);function t(y){$("#style_"+y+"_filter_first").innerHTML="";$("#style_"+y+"_filter_second").innerHTML="";$("#style_"+y+"_filter_third").innerHTML="";$("#style_"+y+"_filter_level").innerHTML="";$("#"+y+"_filter_first").selectedIndex=0;$("#"+y+"_filter_second").selectedIndex=0;$("#"+y+"_filter_third").selectedIndex=0;$("#"+y+"_filter_level").selectedIndex=0;$("#"+y+"_filter_first").style.backgroundColor="white";$("#"+y+"_filter_second").style.backgroundColor="white";$("#"+y+"_filter_third").style.backgroundColor="white";$("#"+y+"_filter_level").style.backgroundColor="white";$("#"+y+"_filter_second").disabled="disabled";$("#"+y+"_filter_third").disabled="disabled"}})(r[o])}$("#record_check_cost").setAttribute("checked","checked");$("#record_check_cost").onclick=function(){var i=$("#style_record_check_cost");try{if($("#record_check_cost").checked){i.innerHTML="						#record span.cost {							display:inline;						}"}else{i.innerHTML=""}}catch(s){alert('＊경고 : "소모 초대장" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#record_check_cost").checked=false}};$("#record_check_difficulty").setAttribute("checked","checked");$("#record_check_difficulty").onclick=function(){var i=$("#style_record_check_difficulty");try{if($("#record_check_difficulty").checked){i.innerHTML="#record span.difficulty_0, #record span.difficulty_1 {							display:inline;						}"}else{i.innerHTML=""}}catch(s){alert('＊경고 : "획득 난이도" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#record_check_difficulty").checked=false}};$("#record_check_quantity").setAttribute("checked","checked");$("#record_check_quantity").onclick=function(){var i=$("#style_record_check_quantity");try{if($("#record_check_quantity").checked){i.innerHTML="#record span.quantity {							display:inline;						}"}else{i.innerHTML=""}}catch(s){alert('＊경고 : "중복 횟수" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#record_check_quantity").checked=false}};$("#inventory_check_cost").onclick=function(){var i=$("#style_inventory_check_cost");try{if($("#inventory_check_cost").checked){i.innerHTML="#inventory_display table .col_6 span.cost {							display:inline;						}"}else{i.innerHTML=""}}catch(s){alert('＊경고 : "첫 획득시 소모 초대장" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#inventory_check_cost").checked=false}};$("#inventory_check_all").onclick=function(){var i=$("#style_inventory_check_all");try{if($("#inventory_check_all").checked){i.innerHTML="#inventory_display table tr.not_show {							display:inline;						}"}else{i.innerHTML=""}}catch(s){alert('＊경고 : "모든 아이템 보기" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#inventory_check_all").checked=false}};$("#set_check_cost").onclick=function(){var i=$("#style_set_check_cost");try{if($("#set_check_cost").checked){i.innerHTML="#set_display table .col_6 span.cost {							display:inline;						}"}else{i.innerHTML=""}}catch(s){alert('＊경고 : "첫 획득시 소모 초대장" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#set_check_cost").checked=false}};$("#set_check_all").onclick=function(){var i=$("#style_set_check_all");try{if($("#set_check_all").checked){i.innerHTML="#set_display table tr.not_show {							display:inline;						}"}else{i.innerHTML=""}}catch(s){alert('＊경고 : "모든 아이템&세트" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#set_check_all").checked=false}};$("#set_check_only").onclick=function(){var i=$("#style_set_check_only");try{if($("#set_check_only").checked){i.innerHTML="#set_display table tr:not(.hap) {							display:none;						}"}else{i.innerHTML=""}}catch(s){alert('＊경고 : "세트만 보기" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#set_check_only").checked=false}};$("#craft_check_have").onclick=function(){var t=$("#style_craft_check_available");var i=$("#style_craft_check_all");try{t.innerHTML="";i.innerHTML=""}catch(s){alert('＊경고 : "조각 보유 아이템만 보기" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#craft_check_available").checked=false}};$("#craft_check_available").onclick=function(){var t=$("#style_craft_check_available");var i=$("#style_craft_check_all");try{t.innerHTML="#craft_display table tr:not(.available) {						display:none;}";i.innerHTML=""}catch(s){alert('＊경고 : "제작 가능 아이템만 보기" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#craft_check_available").checked=false}};$("#craft_check_all").onclick=function(){var t=$("#style_craft_check_available");var i=$("#style_craft_check_all");try{t.innerHTML="";i.innerHTML="#craft_display table tr.not_show {						display:inline;}"}catch(s){alert('＊경고 : "모든 아이템 보기" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#craft_check_all").checked=false}};$("#craft_check_all").click();$("#character_type").onchange=function(){if(confirm('＊경고 : 한번 정한 캐릭터 직업은 초기화하기 전엔 바꿀 수 없습니다.\n\n"'+$("#character_type").value+'"\n\n이걸로 캐릭터 직업을 정하시겠습니까?')){$("#character_type").disabled="disabled";myCharacter=$("#character_type").value;setEquip();shift("equip")}else{$("#character_type").selectedIndex=0}};for(var o=0;o<partList.length;o++){(function(s){$("#list_"+partList[s]+"_enchant_run").onmouseover=function(){if(enchantList.enchanting===0&&wearingList[partList[s]]!==null){var i=wearingList[partList[s]]["name"];var t=wearingList[partList[s]]["icon"];var v=wearingList[partList[s]]["enchant"];var u=enchantList.cost[v];var w=enchantList.chance[v];$("#enchant_icon").className="";$("#enchant_icon").style.backgroundPosition=spritePosition(t,1);$("#enchant_text").innerHTML="+"+(v+1).toString()+"단계 강화 - 비용 : "+setWon(u)+" Gold, 확률 : "+(w*100).toString()+"%"}};$("#list_"+partList[s]+"_enchant_run").onmouseout=function(){if(enchantList.enchanting===0){$("#enchant_icon").className="init";$("#enchant_icon").style.backgroundPosition="0px 0px";$("#enchant_text").innerHTML="강화기 대기 중"}};$("#list_"+partList[s]+"_enchant_run").onclick=function(){if(wearingList[partList[s]]===null){alert("※ 경고 : 기본 장비는 강화할 수 없습니다.");return}if(runningState!==""){alert("※ 시뮬레이터 실행 중에는 강화할 수 없습니다.");return}var i=wearingList[partList[s]]["name"];var t=wearingList[partList[s]]["icon"];var v=wearingList[partList[s]]["enchant"];var u=enchantList.cost[v];var w=enchantList.chance[v];if($("#equip_check_enchant").checked===false){if(!confirm("+"+v+" "+i+"을(를) 강화하시겠습니까?")){return}}doEnchant(wearingList[partList[s]],partList[s],0)}})(o)}$("#record_check_reset").onclick=function(){if(confirm("\n획득 기록을 초기화하시겠습니까?					\n˙(각종 아이템 획득 및 소모 도전장 수치, 인벤토리, 세트 아이템 창은 초기화되지 않습니다)")){$("#record").innerHTML="";content_text[0]=""}};$("#inventory_check_confirm").onclick=function(){if($("#inventory_check_confirm").checked){$("#set_check_confirm").checked=true}else{$("#set_check_confirm").checked=false}};$("#set_check_confirm").onclick=function(){if($("#set_check_confirm").checked){$("#inventory_check_confirm").checked=true}else{$("#inventory_check_confirm").checked=false}};$("#disassemble_1").onclick=function(){var s=0;for(o=0;o<itemList.length;o++){if(itemList[o]["have"]>1){s+=itemList[o]["have"]-1}}if(s===0){alert("※ 경고 : 현재 중복 에픽 아이템이 없습니다.");return}else{if(confirm("\n중복 에픽 아이템을 각각 하나씩만 남기고 모두 해체하시겠습니까?\n(총 "+s.toString()+'개의 에픽 아이템이 해체됩니다.)\n\n※ 설정창에서 "코스모소울 자동 해체" 여부\n　- 자동 해체 ON : 실질 초대장 소모량 감소\n　- 자동 해체 OFF : 코스모소울 보유량 증가')){var t=0;if(!$("#inventory_check_confirm").checked||!$("#set_check_confirm").checked){t=1;$("#set_check_confirm").checked=true;$("#inventory_check_confirm").checked=true}var i=0;for(o=0;o<itemList.length;o++){if(itemList[o]["have"]>1){var v=itemList[o]["have"]-1;recycle(o,v);if($("#option_soul").checked){i+=disCount("초대장",itemList[o]["level"])*v}else{i+=disCount("코스모소울",itemList[o]["level"])*v}}}if(t===1){$("#set_check_confirm").checked=false;$("#inventory_check_confirm").checked=false}if($("#option_soul").checked){var u='"중복 에픽 아이템 일괄 해체"가 완료되었습니다.\n(실질 소모 초대장 감소 : '+thousand(i)+"장)\n(실질 골드 환산 감소 : "+setWon(i*gold)+" Gold)"}else{var u='"중복 에픽 아이템 일괄 해체"가 완료되었습니다.\n(코스모소울 보유량 증가 : '+thousand(i)+"개)"}alert(u)}}};$("#disassemble_other").onclick=function(){if(myCharacter===""){alert("※ 경고 : 내 캐릭터 직업이 지정되지 않았습니다.\n'장착' 메뉴에서 캐릭터 직업을 먼저 지정해주세요.");return}var s=[];for(o=0;o<itemList.length;o++){if(itemList[o]["have"]>0&&(itemList[o]["class"]!==""&&itemList[o]["class"].indexOf(myCharacter)<0)){s.push(itemList[o]["name"])}}if(s.length===0){alert("※ 경고 : 현재 타직업 장비가 없습니다.");return}else{if(confirm("\n타직업 장비를 모두 해체하시겠습니까?\n(총 "+(s.length).toString()+'개의 에픽 아이템이 해체됩니다.)\n\n※ 설정창에서 "코스모소울 자동 해체" 여부\n　- 자동 해체 ON : 실질 초대장 소모량 감소\n　- 자동 해체 OFF : 코스모소울 보유량 증가')){var t=0;if(!$("#inventory_check_confirm").checked||!$("#set_check_confirm").checked){t=1;$("#set_check_confirm").checked=true;$("#inventory_check_confirm").checked=true}var i=0;for(o=0;o<itemList.length;o++){if(s.indexOf(itemList[o]["name"])>=0){var v=itemList[o]["have"];recycle(o,v);if($("#option_soul").checked){i+=disCount("초대장",itemList[o]["level"])*v}else{i+=disCount("코스모소울",itemList[o]["level"])*v}}}if(t===1){$("#set_check_confirm").checked=false;$("#inventory_check_confirm").checked=false}if($("#option_soul").checked){var u='"타직업 장비 일괄 해체"가 완료되었습니다.\n(실질 소모 초대장 감소 : '+thousand(i)+"장)\n(실질 골드 환산 감소 : "+setWon(i*gold)+" Gold)"}else{var u='"타직업 장비 일괄 해체"가 완료되었습니다.\n(코스모소울 보유량 증가 : '+thousand(i)+"개)"}alert(u)}}};$("#disassemble_2").onclick=function(){var s=0;for(o=0;o<itemList.length;o++){if(itemList[o]["set"]!==""&&itemList[o]["have"]>1){s+=itemList[o]["have"]-1}}if(s===0){alert("※ 경고 : 현재 중복 세트 아이템이 없습니다.");return}else{if(confirm("\n중복 세트 아이템들을 각각 하나씩만 남기고 모두 해체하시겠습니까?\n(총 "+s.toString()+'개의 세트 아이템이 해체됩니다.)\n\n※ 설정창에서 "코스모소울 자동 해체" 여부\n　- 자동 해체 ON : 실질 초대장 소모량 감소\n　- 자동 해체 OFF : 코스모소울 보유량 증가')){var t=0;if(!$("#inventory_check_confirm").checked||!$("#set_check_confirm").checked){t=1;$("#set_check_confirm").checked=true;$("#inventory_check_confirm").checked=true}var i=0;for(o=0;o<itemList.length;o++){if(itemList[o]["set"]!==""&&itemList[o]["have"]>1){var v=itemList[o]["have"]-1;recycle(o,v);if($("#option_soul").checked){i+=disCount("초대장",itemList[o]["level"])*v}else{i+=disCount("코스모소울",itemList[o]["level"])*v}}}if(t===1){$("#set_check_confirm").checked=false;$("#inventory_check_confirm").checked=false}if($("#option_soul").checked){var u='"중복 에픽 아이템 일괄 해체"가 완료되었습니다.\n(실질 소모 초대장 감소 : '+thousand(i)+"장)\n(실질 골드 환산 감소 : "+setWon(i*gold)+" Gold)"}else{var u='"중복 에픽 아이템 일괄 해체"가 완료되었습니다.\n(코스모소울 보유량 증가 : '+thousand(i)+"개)"}alert(u)}}};$("#dungeon").onchange=function(){dungeon_select()};$("#start1").onclick=function(){if(runningState===""){runningState="trigger";$("#character_sprite").classList.remove("wait");$("#character_sprite").classList.add("attack");onoff(1);getEpicList();trigger(1,0)}else{clearTimeout(autoRunning);runningState="";$("#character_sprite").classList.remove("attack");$("#character_sprite").classList.add("wait");if(playMode==="rpg"){hellgate=lifeList[input[0]];$("#hellgate_life").innerHTML=thousand(hellgate)}else{hellgate=1}objective=[];onoff(0)}};$("#start2").onclick=function(){if(runningState===""){if(setObjective("run")===true){runningState="trigger";$("#character_sprite").classList.remove("wait");$("#character_sprite").classList.add("attack");onoff(2);getEpicList();trigger(2,0)}}else{var i="<span class='system'>====================&lt;탐색 종료&gt;====================";i+="<br/>※ 종료 조건 : 수동 정지";i+="<br/>================================================</span>";content_text[0]+=i;$("#record").innerHTML=content_text[0];if($("#record").style.display==="block"){$("#record").scrollTop=$("#record").scrollHeight}clearTimeout(autoRunning);$("#character_sprite").classList.remove("attack");$("#character_sprite").classList.add("wait");if(playMode==="rpg"){hellgate=lifeList[input[0]];$("#hellgate_life").innerHTML=thousand(hellgate)}else{hellgate=1}objective=[];switch(runningState){case"trigger":runningState="";onoff(0);break;case"simulate":runningState="";onoff("drop");break}}};$("#result_button_epicDisassemble").onclick=function(){alert("※ 에픽 해체는 인벤토리 항목에서 이용하실 수 있습니다.\n\n(각 아이템별마다 개별적으로 실시)");shift("inventory")};$("#result_button_soulDisassemble").onclick=function(){var i=prompt("해체하실 코스모소울 개수를 입력하세요.\n(현재 보유량 : "+thousand(get[3])+" 개)\n\n※ 보유량 이상의 수치를 입력하면, 모든 코스모소울을 해체합니다.");if(!isNumber(i)){alert("※ 경고 : 숫자를 입력하지 않았거나, 취소를 누르셨습니다.\n다시 시도해주세요.")}else{var s=Math.min(i,get[3]);get[3]-=s;$("#result_soul_have").innerHTML=thousand(get[3]);cost[1]-=cutList[0]*s;$("#cost_real").innerHTML=thousand(cost[1]);$("#cost_gold_real").innerHTML=setWon(cost[1]*gold+cost[3]);if(get[3]<=0){$("#result_button_soulDisassemble").disabled="disabled";$("#result_button_soulDisassemble").value="없음"}}};$("#pot_tradable").onchange=function(){setPotOpen($("#pot_tradable").value)};$("#pot_open").onclick=function(){if(potList.opening===0){if($("#pot_type").value==="무기"&&myCharacter===""){alert('※ 무기 항아리를 개봉하려면 캐릭터 직업을 지정해야 합니다.캐릭터 직업은 "장착" 탭에서 지정할 수 있습니다.');return}potList.opening=1;setPotOpen("cancel");openPot($("#pot_type").value,$("#pot_tradable").value,0)}else{potList.opening=0;setPotOpen($("#pot_tradable").value)}};$("#cost_set_gold").onclick=function(){var i=prompt("도전장 골드 가격을 입력하세요.\n(현재 가격 : "+thousand(gold)+" Gold)");if(!isNumber(i)){alert("※ 경고 : 숫자를 입력하지 않았거나, 취소를 누르셨습니다.\n다시 시도해주세요.")}else{gold=i;$("#cost_gold").innerHTML=setWon(cost[0]*gold+cost[2]);$("#cost_gold_real").innerHTML=setWon(cost[1]*gold+cost[3])}};$("#cost_compare").onclick=function(){if(gold<=0){alert("※ 경고 : 도전장 골드 가격이 제대로 입력되지 않았습니다.\n(도전장 골드 가격이 입력되어야 현금 시세 계산이 가능함)");return}var i=prompt("던파 골드당 현금 시세를 입력해주세요.\n(1,000만골드 기준, 현재 도전장 골드 가격 : "+thousand(gold)+" Gold)");if(!isNumber(i)){alert("※ 경고 : 숫자를 입력하지 않았거나, 취소를 누르셨습니다.\n다시 시도해주세요.")}else{alert("현재 쓴 돈으로 총 "+Math.floor(cost[0]*gold/10000000*i/15000).toString()+"마리의 치킨을 사먹을 수 있습니다.\n(현금 환산 : "+setWon(Math.floor(cost[0]*gold/10000000*i))+"원)\n(치킨 1마리 당 15,000원 기준)")}};$("#reset").onclick=function(){var t="";if($("#option_basicItem").checked===true){t+="\n\n(입력해둔 기본장비는 초기화되지 않습니다. - 옵션 참고)"}if(confirm("초기화를 하면 모든 기록이 사라집니다.\n'정말로' 초기화하시겠습니까?"+t)){for(var u=0;u<maxQuantity;u++){$("#item"+u.toString()).style.left=startList[input[0]][0].toString()+"px";$("#item"+u.toString()).style.top=startList[input[0]][1].toString()+"px";$("#item_name"+u.toString()).className="item_name";$("#item_name"+u.toString()).style.visibility="hidden";$("#description"+u.toString()).style.left="0px";$("#item_img"+u.toString()).style.visibility="hidden";$("#effect_appear"+u.toString()).style.visibility="hidden";$("#effect_land"+u.toString()).style.visibility="hidden";$("#effect_wait"+u.toString()).style.visibility="hidden";clearTimeout(autoLooting[u-1]);clearTimeout(autoEffect[u-1]);$("#item_img"+u.toString()).className="item_img"}count=0;dateCount=0;$("#round_count").innerHTML=0;$("#round_difficulty").innerHTML="";dateState.changed=1;setDate();objective=[];$("#record").innerHTML="";content_text[0]="";$("#inventory_table").innerHTML="";generateInventory();$("#set_table").innerHTML="";generateSet();$("#craft_table").innerHTML="";generateCraft();collect=0;$("#inventory_check_collect").innerHTML="0";get=[0,0,0,0,0,0];$("#result_epic_get").innerHTML="0";$("#result_epic_have").innerHTML="0";$("#result_soul_get").innerHTML="0";$("#result_soul_have").innerHTML="0";$("#result_cost_get").innerHTML="0";$("#result_beed_get").innerHTML="0";cost=[0,0,0,0];$("#cost_invitation").innerHTML="0";$("#cost_real").innerHTML="0";$("#cost_gold").innerHTML="0";$("#cost_gold_real").innerHTML="0";for(u=0;u<itemList.length;u++){itemList[u]["get"]=0;itemList[u]["have"]=0;itemList[u]["firstCount"]=0;itemList[u]["firstInvite"]=0;itemList[u]["firstReal"]=0;itemList[u]["jogak"]=0;if($("#option_basicItem").checked===true&&itemList[u]["init"]===1){itemList[u]["init"]=1}else{itemList[u]["init"]=0}itemList[u]["enchant"]=0}checkObjective("setting");myCharacter="";$("#character_type").selectedIndex=0;$("#character_type").disabled="";setPower();tower=0;setPotOpen($("#pot_tradable").value);for(var s in wearingList){if(wearingList.hasOwnProperty(s)){wearingList[s]=null}}0;for(var u=0;u<partList.length;u++){setEquip(partList[u],"")}var w=["record","inventory","set","craft"];for(var u=0;u<w.length;u++){$("#style_"+w[u]+"_filter_first").innerHTML="";$("#style_"+w[u]+"_filter_second").innerHTML="";$("#style_"+w[u]+"_filter_third").innerHTML="";$("#style_"+w[u]+"_filter_level").innerHTML="";$("#"+w[u]+"_filter_first").selectedIndex=0;$("#"+w[u]+"_filter_second").selectedIndex=0;$("#"+w[u]+"_filter_third").selectedIndex=0;$("#"+w[u]+"_filter_level").selectedIndex=0;$("#"+w[u]+"_filter_first").style.backgroundColor="white";$("#"+w[u]+"_filter_second").style.backgroundColor="white";$("#"+w[u]+"_filter_third").style.backgroundColor="white";$("#"+w[u]+"_filter_level").style.backgroundColor="white";$("#"+w[u]+"_filter_second").disabled="disabled";$("#"+w[u]+"_filter_third").disabled="disabled"}onoff(0);var v="";if($("#option_basicItem").checked===true){v+="\n\n(일부 장비들은 기본장비로서 수량이 1로 조정되었습니다)\n";for(var u=0;u<itemList.length;u++){if(itemList[u]["init"]===1){v+="　"+itemList[u]["name"]+"\n";update("에픽",itemList[u])}}}alert("모든 기록이 초기화되었습니다."+v)}};$("#option_name_normal").onclick=function(){var t=$("#style_name_normal");try{if($("#option_name_normal").checked){t.innerHTML="					.description.normal {						display:inline-block;					}";for(var s=0;s<maxQuantity;s++){$("#description"+s.toString()).style.left=(-$("#item_name"+s.toString()).offsetWidth/2).toString()+"px"}}else{t.innerHTML=""}}catch(u){alert('＊경고 : "아이템 명칭" 필터링을 사용할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#option_name_normal").checked=true}};$("#option_name_jogak").onclick=function(){var t=$("#style_name_jogak");try{if($("#option_name_jogak").checked){t.innerHTML="					.description.jogak {						display:inline-block;					}";for(var s=0;s<maxQuantity;s++){$("#description"+s.toString()).style.left=(-$("#item_name"+s.toString()).offsetWidth/2).toString()+"px"}}else{t.innerHTML=""}}catch(u){alert('＊경고 : "에픽 조각 명칭" 필터링을 사용할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#option_name_jogak").checked=false}};$("#option_character").onclick=function(){if($("#option_character").checked){$("#character_sprite").style.display="block"}else{$("#character_sprite").style.display="none"}};$("#option_bgm").onclick=function(){play($("#bgm_type").value)};$("#bgm_type").onchange=function(){play($("#bgm_type").value)};$("#option_button").onclick=function(){if($("#option").style.display!=="none"){$("#option").style.display="none";$("#option_button").className="";if($("#option_sound").checked===true){sfxList.close.play()}}else{$("#option").style.display="block";$("#option_button").className="selected";if($("#option_sound").checked===true){sfxList.open.play()}}};$("html").addEventListener("click",function(i){if($("#option").style.display!=="none"){if(i.target!==$("#option")&&i.target.parentNode!==$("#option")&&i.target.parentNode.parentNode!==$("#option")&&i.target.parentNode.parentNode.parentNode!==$("#option")&&i.target!==$("#option_button")){$("#option").style.display="none";$("#option_button").className="";if($("#option_sound").checked===true){sfxList.close.play()}}}});$("#shift1").onclick=function(){if(right_display!=="record"){shift("record")}else{shift("")}};$("#shift2").onclick=function(){if(right_display!=="inventory"){shift("inventory")}else{shift("")}};$("#shift3").onclick=function(){if(right_display!=="set"){shift("set")}else{shift("")}};$("#shift4").onclick=function(){if(right_display!=="craft"){shift("craft")}else{shift("")}};$("#shift5").onclick=function(){if(right_display!=="equip"){shift("equip")}else{shift("")}};$("#func_basicItem").onclick=function(){var v="";var s=prompt("※ 기본장비로 설정하려는 장비 이름을 \"정확히\" 입력하세요.\n(인벤토리에서 '모든 아이템 보기' 설정 후 이름 확인가능)\n");if(!s){return}var u=null;for(var t=0;t<itemList.length;t++){if(s===itemList[t]["name"]){itemList[t]["init"]=1;u=itemList[t]}}if(!u){alert('※ 해당 장비를 찾지 못했습니다.\n\n"'+s+'"');return}else{update("에픽",u);try{if($("#option_sound").checked){sound_appear.pause();sound_appear.currentTime=0;sound_appear.play()}}catch(w){}var x="";for(var t=0;t<itemList.length;t++){if(itemList[t]["init"]===1){x+="　"+itemList[t]["name"]+"\n"}}alert('※ 해당 장비를 인벤토리에 등록하였습니다.\n\n"'+s+'"\n\n현재 등록된 기본장비 리스트 : \n'+x);return}};$("#shift_chance").onclick=function(){if(right_display!=="chance"){$("#option").style.display="none";$("#option_button").className="";$("#option_button").innerHTML=$("#option_button").innerHTML.replace("닫기","설정");shift("chance");setChance("show")}else{shift("")}};var p=$$("#popup_chance_main input[type='text']");for(var o=0;o<p.length;o++){p[o].onfocus=function(){this.select()};p[o].onclick=function(){this.select()}}$("#popup_chance_apply").onclick=function(){setChance("apply")};$("#popup_chance_cancel").onclick=function(){setChance("show");shift("")};$("#popup_chance_reset").onclick=function(){setChance("reset")};$("#popup_chance_perfect").onclick=function(){setChance("perfect")};for(var o=0;o<dateSettingList.length;o++){dateSettingList[o]=dateSettingDefault[o]}$("#date_config").onclick=function(){if(count>0){alert('※ 경고 : 피로도 설정은 첫 실행 이전에만 가능합니다.\n"모두 초기화"를 클릭하신 후 설정을 해주세요.');return}switch($("#date_config").className){case"":$("#date_config").className="cancel";$("#date_config").value="설정 취소";$("#date_setting").style.display="block";break;case"cancel":for(var s=1;s<=7;s++){$("#date_setting_"+s.toString()).value=dateSettingDefault[s-1].toString()}$("#date_config").className="";$("#date_config").value="피로도 설정";$("#date_setting").style.display="none";break}};for(var o=1;o<=dateSettingList.length;o++){$("#date_setting_"+o.toString()).onfocus=function(){this.select()}}$("#date_apply").onclick=function(){for(var s=1;s<=dateSettingList.length;s++){if(!isNumber($("#date_setting_"+s.toString()).value)){alert('※ 경고 : 날짜 환산 설정창 - "'+dateSettingName[s-1]+'" 값이 입력되었습니다.');return}}if(parseInt($("#date_setting_3").value)===0){alert('※ 경고 : 1회 피로도 소모치는 "0"이 될 수 없습니다.');return}for(var s=1;s<=dateSettingList.length;s++){dateSettingList[s-1]=parseInt($("#date_setting_"+s.toString()).value)}dateSettingWeek=$("#date_setting_week").value.split(",");dateState.changed=1;setDate();alert("※ 날짜 전환 설정이 정상적으로 변경되었습니다.");$("#date_config").className="";$("#date_config").value="피로도 설정";$("#date_setting").style.display="none"};$("#date_cancel").onclick=function(){$("#date_config").className="";$("#date_config").value="피로도 설정";$("#date_setting").style.display="none"};$("html").addEventListener("click",function(i){if(i.target!==$("#date_setting")&&i.target.parentNode!==$("#date_setting")&&i.target.parentNode.parentNode!==$("#date_setting")&&i.target!==$("#date_config")){if($("#date_config").className==="cancel"){$("#date_config").className="";$("#date_config").value="피로도 설정";$("#date_setting").style.display="none"}}});shortcut.add("Page_up",function(){if($("#channel").selectedIndex!==0){$("#channel").selectedIndex-=1}});shortcut.add("Page_down",function(){if($("#channel").selectedIndex!==$("#channel").length-1){$("#channel").selectedIndex+=1}});$("#dungeon").onmouseover=function(){$("#notice_dungeon").style.display="block"};$("#dungeon").onmouseout=function(){$("#notice_dungeon").style.display="none"};$("#difficulty").onmouseover=function(){$("#notice_difficulty").style.display="block"};$("#difficulty").onmouseout=function(){$("#notice_difficulty").style.display="none"};$("#channel").onmouseover=function(){$("#notice_channel").style.display="block"};$("#channel").onmouseout=function(){$("#notice_channel").style.display="none"}})};