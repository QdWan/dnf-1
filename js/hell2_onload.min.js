window.onload=function(){initData();if(localStorage.hell2_init==="true"){var a=localGet("hell2");switch(a.playMode){case"normal":$("#continue_mode").innerHTML="일반";break;case"rpg":$("#continue_mode").innerHTML="RPG";break;case"beckey":$("#continue_mode").innerHTML="베키";break}$("#continue_count").innerHTML=a.count;$("#continue_dayCount").innerHTML=a.dateState["date"];if(a.myCharacter===""){$("#continue_character").innerHTML="없음"}else{$("#continue_character").innerHTML=characterList[a.myCharacter]["name"]}$("#continue_power").innerHTML=thousand(parseInt(a.power));$("#continue_no").style.display="none";$("#continue_yes").style.display="block"}else{$("#continue_no").style.display="block";$("#continue_yes").style.display="none"}$("#titleScreen_continue").onmouseover=function(){$("#titleScreen_description_nothing").style.display="none";$("#titleScreen_description_continue").style.display="block";$("#titleScreen_description_normal").style.display="none";$("#titleScreen_description_rpg").style.display="none";$("#titleScreen_description_beckey").style.display="none";$("#titleScreen_description_password").style.display="none"};$("#titleScreen_normal").onmouseover=function(){$("#titleScreen_description_nothing").style.display="none";$("#titleScreen_description_continue").style.display="none";$("#titleScreen_description_normal").style.display="block";$("#titleScreen_description_rpg").style.display="none";$("#titleScreen_description_beckey").style.display="none";$("#titleScreen_description_password").style.display="none"};$("#titleScreen_rpg").onmouseover=function(){$("#titleScreen_description_nothing").style.display="none";$("#titleScreen_description_continue").style.display="none";$("#titleScreen_description_normal").style.display="none";$("#titleScreen_description_rpg").style.display="block";$("#titleScreen_description_beckey").style.display="none";$("#titleScreen_description_password").style.display="none"};$("#titleScreen_beckey").onmouseover=function(){$("#titleScreen_description_nothing").style.display="none";$("#titleScreen_description_continue").style.display="none";$("#titleScreen_description_normal").style.display="none";$("#titleScreen_description_rpg").style.display="none";$("#titleScreen_description_beckey").style.display="block";$("#titleScreen_description_password").style.display="none"};$("#titleScreen_password").onmouseover=function(){$("#titleScreen_description_nothing").style.display="none";$("#titleScreen_description_continue").style.display="none";$("#titleScreen_description_normal").style.display="none";$("#titleScreen_description_rpg").style.display="none";$("#titleScreen_description_beckey").style.display="none";$("#titleScreen_description_password").style.display="block"};$("#titleScreen_continue").innerHTML="이어서 하기";$("#titleScreen_continue").disabled=false;if(localStorage.hell2_init!=="true"){$("#titleScreen_continue").style.color="gray"}$("#titleScreen_normal").innerHTML="일반 모드 시작";$("#titleScreen_normal").disabled=false;$("#titleScreen_rpg").innerHTML="RPG 모드 시작";$("#titleScreen_rpg").disabled=false;$("#titleScreen_beckey").innerHTML="베키";$("#titleScreen_beckey").disabled=false;$("#titleScreen_password").innerHTML="P/W";$("#titleScreen_password").disabled=false;$("#titleScreen_password").style.color="gray";$("#titleScreen_continue").onclick=function(){if(localStorage.hell2_init==="true"){loadData();$("#titleScreen_main").style.display="none";$("#titleScreen_loading").style.display="block";main("continue")}};$("#titleScreen_rpg").onclick=function(){$("#titleScreen_main").style.display="none";$("#titleScreen_startOption").style.display="block"};var c=deepCopy(Object.keys(characterList));for(var b=c.length-1;b>=0;b--){if(c[b]==="beckey"){c.splice(b,1);break}}for(var b=0;b<c.length;b++){(function(d){$("#startPption_select_"+c[d]).onmouseover=function(){if(c[d]!==myCharacter){$("#startPption_select_"+c[d]).classList.remove("off");$("#startPption_select_"+c[d]).classList.add("on")}}})(b)}for(var b=0;b<c.length;b++){(function(d){$("#startPption_select_"+c[d]).onmouseout=function(){if(c[d]!==myCharacter){$("#startPption_select_"+c[d]).classList.remove("on");$("#startPption_select_"+c[d]).classList.add("off")}}})(b)}for(var b=0;b<c.length;b++){(function(d){$("#startPption_select_"+c[d]).onclick=function(){if(c[d]!==myCharacter){for(var e=0;e<c.length;e++){$("#startPption_select_"+c[e]).classList.remove("on");$("#startPption_select_"+c[e]).classList.add("off")}$("#startPption_select_"+c[d]).classList.remove("off");$("#startPption_select_"+c[d]).classList.add("on");myCharacter=c[d];$("#startOption_description_sprite").className=c[d];$("#startPption_selected_text").innerHTML=characterList[c[d]]["name"];$("#startOption_start").classList.add("able");$("#startOption_start").disabled=false}}})(b)}$("#startOption_cancel").onclick=function(){$("#titleScreen_startOption").style.display="none";$("#titleScreen_main").style.display="block"};$("#startOption_start").onclick=function(){playMode="rpg";setCharacter(myCharacter);$("#mode").innerHTML="RPG";$("#power_area").style.display="block";$("#difficulty").selectedIndex=4;$("#difficulty").disabled="disabled";$("#date_config").disabled="disabled";$("#pot_tradable").disabled="disabled";$("#func_basicItem").disabled="disabled";$("#option_basicItem").disabled="disabled";$("#shift_chance").disabled="disabled";$("#cost_set_gold").disabled="disabled";$("#cost_set_gold").value="도전장 = 20,000 Gold";gold=20000;$("#titleScreen_startOption").style.display="none";$("#titleScreen_loading").style.display="block";main()};$("#titleScreen_normal").onclick=function(){playMode="normal";setRandomCharacter();$("#mode").innerHTML="일반";$("#final_area").style.display="none";$("#titleScreen_main").style.display="none";$("#titleScreen_loading").style.display="block";main()};$("#titleScreen_beckey").onclick=function(){playMode="beckey";myCharacter="beckey";setCharacter(myCharacter);$("#bgm_type").selectedIndex=indexSelectByValue($("#bgm_type"),"beckey");for(var d=0;d<partList.length;d++){clearSelect($("#list_"+partList[d]+"_select"));var e=document.createElement("option");e.value="";if(myCharacter!=="beckey"){e.innerHTML="Lv.60 | 마법으로 봉인된 모험가 "+partList[d]}else{e.innerHTML="Lv.60 | 베키의 망가진 "+partList[d]}$("#list_"+partList[d]+"_select").add(e)}$("#mode").innerHTML="베키";$("#power_area").style.display="block";$("#difficulty").selectedIndex=4;$("#difficulty").disabled="disabled";$("#date_config").disabled="disabled";$("#pot_tradable").disabled="disabled";$("#func_basicItem").disabled="disabled";$("#option_basicItem").disabled="disabled";$("#shift_chance").disabled="disabled";$("#cost_set_gold").disabled="disabled";$("#cost_set_gold").value="도전장 = 20,000 Gold";gold=20000;$("#titleScreen_main").style.display="none";$("#titleScreen_loading").style.display="block";main()}};function main(a){var f=[];for(c=0;c<$("#dungeon").options.length;c++){if(f.indexOf($("#dungeon").options[c].value)===-1){f.push($("#dungeon").options[c].value)}}var m=[];var l=[];l.push("");for(c=0;c<f.length;c++){for(b=0;b<levelList[playMode][f[c]].length;b++){if(m.indexOf(levelList[playMode][f[c]][b])===-1){m.push(levelList[playMode][f[c]][b])}}if(l.indexOf(areaList[f[c]])===-1){l.push(areaList[f[c]])}}var h=[];for(c=0;c<itemList.length;c++){if(m.indexOf(itemList[c]["level"])===-1||l.indexOf(itemList[c]["goyu"])===-1){h.push(c)}}for(c=h.length-1;c>=0;c--){itemList.splice(h[c],1)}for(c=0;c<itemList.length;c++){if(itemList[c]["goyu"]!==""){goyuList.push(itemList[c])}}for(var c=0;c<itemList.length;c++){switch(itemList[c]["sort1"]){case"방어구":if(equipList.indexOf(itemList[c]["sort2"])<0){equipList.push(itemList[c]["sort2"])}break;case"":break;default:if(equipList.indexOf(itemList[c]["sort3"])<0){equipList.push(itemList[c]["sort3"])}break}}maxQuantity=0;var n=0;for(var c=0;c<dropQuantityList[0].length;c++){if(n<dropQuantityList[0][c]){n=dropQuantityList[0][c]}}maxQuantity+=n;n=0;for(var c=0;c<dropQuantityList[1].length;c++){if(n<dropQuantityList[1][c]){n=dropQuantityList[1][c]}}maxQuantity+=n;n=0;for(var c=0;c<dropQuantityList[2].length;c++){for(var b=0;b<dropQuantityList[2][c].length;b++){if(n<dropQuantityList[2][c][b]){n=dropQuantityList[2][c][b]}}}maxQuantity+=n;for(var c=0;c<maxQuantity;c++){var g=document.createElement("div");g.id="item"+c.toString();g.className="item";g.innerHTML="				<div id='description"+c.toString()+"' class='description'>					<p id='item_name"+c.toString()+"' class='item_name'></p>				</div>				<div id='item_img"+c.toString()+"' class='item_img'></div>								<div id='effect_appear"+c.toString()+"' class='effect_appear'></div>				<div id='effect_land"+c.toString()+"' class='effect_land'></div>				<div id='effect_wait"+c.toString()+"' class='effect_wait'></div>";$("#frame_top").appendChild(g)}for(var c=0;c<maxQuantity;c++){coordinate.push([0,0])}if(a!="continue"){chanceList_num=deepCopy(chanceList_num_default)}setDate();setPower();try{sound_appear=new Audio;sound_appear.volume=0.2;sound_land=new Audio;sound_land.volume=0.2;if(sound_appear.canPlayType("audio/mpeg")!==""){sound_appear.src="./sound/epic_appear.mp3";sound_land.src="./sound/epic_land.mp3"}else{sound_appear.src="./sound/epic_appear.ogg";sound_land.src="./sound/epic_land.pgg"}bgmList={"0":new Audio("./sound/bgm_0.mp3"),"1":new Audio("./sound/bgm_1.mp3"),"2":new Audio("./sound/bgm_2.mp3"),"3":new Audio("./sound/bgm_3.mp3"),"4":new Audio("./sound/bgm_4.mp3"),"5":new Audio("./sound/bgm_5.mp3"),"6":new Audio("./sound/bgm_6.mp3"),"7":new Audio("./sound/bgm_7.mp3"),"8":new Audio("./sound/bgm_8.mp3"),"9":new Audio("./sound/bgm_9.mp3"),"10":new Audio("./sound/bgm_10.mp3"),"11":new Audio("./sound/bgm_11.mp3"),"12":new Audio("./sound/bgm_12.mp3"),"13":new Audio("./sound/bgm_13.mp3"),"14":new Audio("./sound/bgm_14.mp3"),"15":new Audio("./sound/bgm_15.mp3"),"16":new Audio("./sound/bgm_16.mp3"),"17":new Audio("./sound/bgm_17.mp3"),"18":new Audio("./sound/bgm_18.mp3"),hell:new Audio("./sound/bgm_hell.mp3"),beckey:new Audio("./sound/beckey_bgm.mp3"),rpg_clear:new Audio("./sound/hell_rpg_clear.mp3")};for(var k in bgmList){if(bgmList.hasOwnProperty(k)){bgmList[k].volume=0.2;bgmList[k].loop=true}}bgmList.hell.volume=0.1;bgmList.rpg_clear.loop=false;sfxList={open:new Audio("./sound/win_open.mp3"),close:new Audio("./sound/win_close.mp3"),hit_hit:new Audio("./sound/hell_hit_hit.mp3"),hit_slash:new Audio("./sound/hell_hit_slash.mp3"),hit_gun:new Audio("./sound/hell_hit_gun.mp3"),hit_magic:new Audio("./sound/hell_hit_magic.mp3"),hit_beckey:new Audio("./sound/hell_hit_beckey.mp3"),item_drop:new Audio("./sound/hell_item_drop.mp3"),hell_gabriel_yes:new Audio("./sound/hell_gabriel_yes.mp3"),hell_gabriel_no:new Audio("./sound/hell_gabriel_no.mp3"),wearing:new Audio("./sound/hell_wearing.mp3"),enchant_progress:new Audio("./sound/enchant_progress.mp3"),enchant_success:new Audio("./sound/enchant_success.mp3"),enchant_fail:new Audio("./sound/enchant_fail.mp3"),enchant_zero:new Audio("./sound/enchant_zero.mp3"),pot_opening:new Audio("./sound/pot_opening.mp3"),anton_scream:new Audio("./sound/hell_anton_scream.mp3"),beckey_start:new Audio("./sound/beckey_start.mp3"),beckey_epic:new Audio("./sound/beckey_get.mp3")};for(var k in sfxList){if(sfxList.hasOwnProperty(k)){sfxList[k].volume=0.4}}sfxList.hit_hit.volume=0.1;sfxList.hit_slash.volume=0.1;sfxList.hit_gun.volume=0.3;sfxList.hit_magic.volume=0.4;sfxList.hit_beckey.volume=0.2}catch(d){$("#option_sound").disabled="disabled";$("#label_sound").innerHTML="사운드 미지원";$("#option_hitsound").style.display="none";$("#label_hitsound").style.display="none";$("#option_bgm").disabled="disabled";$("#label_bgm").innerHTML="BGM 미지원";$("#bgm_type").style.display="none";$("#bgm_type").disabled="disabled";$("#bgm_type").style.width="40px"}imageList.push("./sprite/images/sprite_hell.png");imageList.push("./sprite/images/sprite_item.png");for(var c=0;c<=18;c++){imageList.push("./images/epic/background/background_"+c.toString()+".jpg")}imageList.push("./images/epic/background/background_ending.png");imageList.push("./images/epic/menu_background.png");imageList.push("./images/epic/ending_info_background.png");imageList.push("./images/epic/wrap_title.png");imageList.push("./images/epic/pot_opening.gif");imageList.push("./images/epic/gabriel.png");imageList.push("./images/epic/popup_record.png");imageList.push("./images/epic/popup_inventory.png");imageList.push("./images/epic/popup_set.png");imageList.push("./images/epic/popup_craft.png");imageList.push("./images/epic/popup_equip.png");imageList.push("./images/epic/icon_option.png");imageList.push("./images/epic/soul.png");imageList.push("./images/epic/beed.png");imageList.push("./images/epic/cost.png");imageList.push("./images/epic/heroPot.png");imageList.push("./images/epic/epic_appear.png");imageList.push("./images/epic/epic_land.png");imageList.push("./images/epic/epic_wait.png");imageList.push("./images/epic/character_sprite/character_swordman_m.png");imageList.push("./images/epic/character_sprite/character_swordman_f.png");imageList.push("./images/epic/character_sprite/character_darkknight_m.png");imageList.push("./images/epic/character_sprite/character_fighter_m.png");imageList.push("./images/epic/character_sprite/character_fighter_f.png");imageList.push("./images/epic/character_sprite/character_gunner_m.png");imageList.push("./images/epic/character_sprite/character_gunner_f.png");imageList.push("./images/epic/character_sprite/character_mage_m.png");imageList.push("./images/epic/character_sprite/character_mage_f.png");imageList.push("./images/epic/character_sprite/character_creator_f.png");imageList.push("./images/epic/character_sprite/character_priest_m.png");imageList.push("./images/epic/character_sprite/character_thief_f.png");imageList.push("./images/epic/character_sprite/character_knight_f.png");imageList.push("./images/epic/character_sprite/character_lancer_m.png");imageList.push("./images/epic/character_sprite/character_beckey.png");imageList.push("./images/epic/beckey_ending/beckey_ending_0.jpg");imageList.push("./images/epic/beckey_ending/beckey_ending_1.jpg");imageList.push("./images/epic/beckey_ending/beckey_ending_2.jpg");imageList.push("./images/epic/beckey_ending/beckey_ending_3.jpg");imageList.push("./images/epic/beckey_ending/beckey_ending_4.jpg");imageList.push("./images/epic/beckey_ending/beckey_ending_5.jpg");imageList.push("./images/epic/beckey_ending/beckey_ending_6.jpg");imageList.push("./images/epic/beckey_ending/beckey_ending_7.jpg");imageList.push("./images/epic/beckey_ending/beckey_ending_8.jpg");imageList.push("./images/epic/beckey_ending/beckey_ending_9.jpg");imageList.push("./images/epic/beckey_ending/beckey_ending_10.jpg");imageList.push("./images/epic/beckey_ending/beckey_ending_11.jpg");imageList.push("./images/epic/beckey_ending/beckey_ending_12.jpg");loadImages(imageList,function(){$("#titleScreen_loading").style.display="none";$("#titleScreen").style.display="none";$("#wrapper").style.display="block";if(a==="continue"){dungeon_select(dataObj.dungeon);$("#difficulty").selectedIndex=indexSelectByValue($("#difficulty"),dataObj.difficulty);$("#channel").selectedIndex=dataObj.channel}else{dungeon_select()}if(a!=="continue"){generateInventory();generateSet();generateCraft()}var q=[];for(p=0;p<itemList.length;p++){if(q.indexOf(itemList[p]["sort1"])===-1&&itemList[p]["sort1"]!==""){q.push(itemList[p]["sort1"])}}for(p=0;p<q.length;p++){var r=document.createElement("option");r.value=q[p];r.text=q[p];$("#objective_item_first").add(r)}var q=[];for(p=0;p<itemList.length;p++){if(itemList[p]["set"]!==""){if(q.indexOf(itemList[p]["sort2"])===-1&&itemList[p]["sort2"]!==""){q.push(itemList[p]["sort2"])}}}for(p=0;p<q.length;p++){var r=document.createElement("option");r.value=q[p];r.text=q[p];$("#objective_set_first").add(r)}var q=[[],[],[],[]];for(p=0;p<itemList.length;p++){if(itemList[p]["set"]!==""){if(q[2].indexOf(itemList[p]["sort1"])===-1&&itemList[p]["sort1"]!==""){q[2].push(itemList[p]["sort1"])}if(q[3].indexOf(itemList[p]["level"])===-1&&typeof itemList[p]["level"]!=="undefined"){q[3].push(itemList[p]["level"])}}if(q[0].indexOf(itemList[p]["sort1"])===-1&&itemList[p]["sort1"]!==""){q[0].push(itemList[p]["sort1"])}if(q[1].indexOf(itemList[p]["level"])===-1&&typeof itemList[p]["level"]!=="undefined"){q[1].push(itemList[p]["level"]);q[1].sort()}}for(p=0;p<q[0].length;p++){var o=document.createElement("option");o.value=q[0][p];o.text=q[0][p];$("#record_filter_first").add(o);var j=document.createElement("option");j.value=q[0][p];j.text=q[0][p];$("#inventory_filter_first").add(j);var e=document.createElement("option");e.value=q[0][p];e.text=q[0][p];$("#craft_filter_first").add(e)}for(p=0;p<q[1].length;p++){var o=document.createElement("option");o.value=q[1][p].toString();o.text="Lv."+q[1][p].toString();$("#record_filter_level").add(o);var j=document.createElement("option");j.value=q[1][p].toString();j.text="Lv."+q[1][p].toString();$("#inventory_filter_level").add(j);var e=document.createElement("option");e.value=q[1][p].toString();e.text="Lv."+q[1][p].toString();$("#craft_filter_level").add(e)}for(p=0;p<q[2].length;p++){var r=document.createElement("option");r.value=q[2][p];r.text=q[2][p];$("#set_filter_first").add(r)}for(p=0;p<q[3].length;p++){var r=document.createElement("option");r.value=q[3][p].toString();r.text="Lv."+q[3][p].toString();$("#set_filter_level").add(r)}$("#objective_list").onchange=function(){for(p=0;p<$("#objective_list").options.length;p++){if($("#objective_list").options[p].value!==""){if($("#objective_list").options[p].value===$("#objective_list").value){$("#objective_"+$("#objective_list").options[p].value).style.display="block"}else{$("#objective_"+$("#objective_list").options[p].value).style.display="none"}}}if($("#objective_list").value!=="none"){$("#objective_list").style.background="#F4FA58"}else{$("#objective_list").style.background=""}checkObjective("setting")};$("#objective_item_first").onchange=function(){var u=$("#objective_item_first").value;$("#objective_item_second").selectedIndex=0;$("#objective_item_third").selectedIndex=0;$("#objective_item_name").selectedIndex=0;$("#objective_item_second").disabled="disabled";$("#objective_item_third").disabled="disabled";$("#objective_item_name").disabled="disabled";$("#objective_item_second").style.backgroundColor="white";$("#objective_item_third").style.backgroundColor="white";$("#objective_item_name").style.backgroundColor="white";var v=$("#objective_item_second");clearSelect(v);var t=document.createElement("option");t.value="";t.text="모든 에픽 아이템";v.add(t);var v=$("#objective_item_third");clearSelect(v);var t=document.createElement("option");t.value="";t.text="모든 에픽 아이템";v.add(t);var v=$("#objective_item_name");clearSelect(v);var t=document.createElement("option");t.value="";t.text="모든 에픽 아이템";v.add(t);if(u!==""){$("#objective_item_second").style.backgroundColor="#F4FA58";$("#objective_item_second").disabled="";var i=[];for(p=0;p<itemList.length;p++){if(i.indexOf(itemList[p]["sort2"])===-1&&itemList[p]["sort1"]===u&&itemList[p]["sort2"]!==""){i.push(itemList[p]["sort2"])}}var v=$("#objective_item_second");clearSelect(v);var t=document.createElement("option");t.value="";t.text="모든 "+u+" 아이템";v.add(t);var t=document.createElement("option");t.value="";t.disabled="disabled";t.text="===============";v.add(t);for(p=0;p<i.length;p++){var t=document.createElement("option");t.value=i[p];t.text=i[p];v.add(t)}}checkObjective("setting")};$("#objective_item_second").onchange=function(){var u=$("#objective_item_second").value;$("#objective_item_third").selectedIndex=0;$("#objective_item_name").selectedIndex=0;$("#objective_item_third").disabled="disabled";$("#objective_item_name").disabled="disabled";$("#objective_item_third").style.backgroundColor="white";$("#objective_item_name").style.backgroundColor="white";var v=$("#objective_item_third");clearSelect(v);var t=document.createElement("option");t.value="";t.text="모든 에픽 아이템";v.add(t);var v=$("#objective_item_name");clearSelect(v);var t=document.createElement("option");t.value="";t.text="모든 에픽 아이템";v.add(t);if(u!==""){$("#objective_item_third").style.backgroundColor="#F4FA58";$("#objective_item_third").disabled="";var i=[];for(p=0;p<itemList.length;p++){if(i.indexOf(itemList[p]["sort3"])===-1&&itemList[p]["sort2"]===u&&itemList[p]["sort1"]===$("#objective_item_first").value&&itemList[p]["sort3"]!==""){i.push(itemList[p]["sort3"])}}var v=$("#objective_item_third");clearSelect(v);var t=document.createElement("option");t.value="";t.text="모든 "+u+" 아이템";v.add(t);var t=document.createElement("option");t.value="";t.disabled="disabled";t.text="===============";v.add(t);for(p=0;p<i.length;p++){var t=document.createElement("option");t.value=i[p];t.text=i[p];v.add(t)}}checkObjective("setting")};$("#objective_item_third").onchange=function(){var u=$("#objective_item_third").value;$("#objective_item_name").selectedIndex=0;$("#objective_item_name").disabled="disabled";$("#objective_item_name").style.backgroundColor="white";var v=$("#objective_item_name");clearSelect(v);var t=document.createElement("option");t.value="";t.text="모든 에픽 아이템";v.add(t);if(u!==""){$("#objective_item_name").style.backgroundColor="#F4FA58";$("#objective_item_name").disabled="";var i=[[],[],[]];for(p=0;p<itemList.length;p++){if(i[0].indexOf(itemList[p]["name"])===-1&&itemList[p]["sort3"]===u&&itemList[p]["sort2"]===$("#objective_item_second").value&&itemList[p]["sort1"]===$("#objective_item_first").value&&itemList[p]["name"]!==""){i[0].push(itemList[p]["name"]);i[1].push(itemList[p]["level"]);i[2].push(itemList[p]["set"])}}var v=$("#objective_item_name");clearSelect(v);var t=document.createElement("option");t.value="";t.text="모든 "+u+" 아이템";v.add(t);var t=document.createElement("option");t.value="";t.disabled="disabled";t.text="===============";v.add(t);for(p=0;p<i[0].length;p++){var t=document.createElement("option");t.value=i[0][p];if(i[2][p]!==""){t.text="Lv."+i[1][p]+" | "+i[0][p]+" ("+i[2][p]+")"}else{t.text="Lv."+i[1][p]+" | "+i[0][p]}v.add(t)}}checkObjective("setting")};$("#objective_item_name").onchange=function(){checkObjective("setting")};$("#objective_set_first").onchange=function(){var u=$("#objective_set_first").value;$("#objective_set_name").selectedIndex=0;$("#objective_set_name").disabled="disabled";$("#objective_set_name").style.backgroundColor="white";var v=$("#objective_set_name");clearSelect(v);var t=document.createElement("option");t.value="";t.text="모든 세트";v.add(t);if(u!==""){$("#objective_set_name").style.backgroundColor="#F4FA58";$("#objective_set_name").disabled="";var i=[[],[]];for(p=0;p<itemList.length;p++){if(i[0].indexOf(itemList[p]["set"])===-1&&itemList[p]["sort2"]===u&&itemList[p]["set"]!==""){i[0].push(itemList[p]["set"]);i[1].push(itemList[p]["level"])}}var v=$("#objective_set_name");clearSelect(v);var t=document.createElement("option");t.value="";t.text="모든 "+u+" 세트";v.add(t);var t=document.createElement("option");t.value="";t.disabled="disabled";t.text="===============";v.add(t);for(p=0;p<i[0].length;p++){var t=document.createElement("option");t.value=i[0][p];t.text="Lv."+i[1][p]+" | "+i[0][p];v.add(t)}}checkObjective("setting")};$("#objective_set_name").onchange=function(){checkObjective("setting")};var s=["record","inventory","set","craft"];for(var p=0;p<s.length;p++){(function(v){$("#"+v+"_filter_first").onchange=(function(z){return function(){y(z)}})(v);function y(C){var B=$("#style_"+C+"_filter_first");var E=$("#"+C+"_filter_first").value;try{$("#style_"+C+"_filter_first").innerHTML="";$("#style_"+C+"_filter_second").innerHTML="";$("#style_"+C+"_filter_third").innerHTML="";$("#"+C+"_filter_second").selectedIndex=0;$("#"+C+"_filter_third").selectedIndex=0;$("#"+C+"_filter_second").disabled="disabled";$("#"+C+"_filter_third").disabled="disabled";$("#"+C+"_filter_first").style.backgroundColor="white";$("#"+C+"_filter_second").style.backgroundColor="white";$("#"+C+"_filter_third").style.backgroundColor="white";var G=$("#"+C+"_filter_second");clearSelect(G);var D=document.createElement("option");D.value="";D.text="2차 분류 (전체 보기)";G.add(D);var G=$("#"+C+"_filter_third");clearSelect(G);var D=document.createElement("option");D.value="";D.text="3차 분류 (전체 보기)";G.add(D);if($("#"+C+"_filter_first").value!==""){B.innerHTML="							#"+C+" span.equip:not(."+E+") {								display:none;							}							#"+C+" span.run:not(."+E+") {								display:none;							}							#"+C+" span.get:not(."+E+") {								display:none;							}														#"+C+" tr.equip:not(."+E+") {								display:none;							}							#"+C+" tr.run:not(."+E+") {								display:none;							}							#"+C+" tr.get:not(."+E+") {								display:none;							}";$("#"+C+"_filter_first").style.backgroundColor="#F4FA58";$("#"+C+"_filter_second").disabled="";var A=[];for(var z=0;z<itemList.length;z++){if(A.indexOf(itemList[z]["sort2"])===-1&&itemList[z]["sort1"]===E&&itemList[z]["sort2"]!==""){A.push(itemList[z]["sort2"])}}var G=$("#"+C+"_filter_second");clearSelect(G);var D=document.createElement("option");D.value="";D.text="2차 분류 (전체 보기)";G.add(D);var D=document.createElement("option");D.value="";D.disabled="disabled";D.text="===============";G.add(D);for(C=0;C<A.length;C++){var D=document.createElement("option");D.value=A[C];D.text=A[C];G.add(D)}}}catch(F){alert('＊경고 : "1차 분류" 필터링을 사용할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#"+C+"_filter_first").selectedIndex=0}}$("#"+v+"_filter_second").onchange=(function(z){return function(){x(z)}})(v);function x(C){var B=$("#style_"+C+"_filter_second");var E=$("#"+C+"_filter_second").value;try{$("#style_"+C+"_filter_second").innerHTML="";$("#style_"+C+"_filter_third").innerHTML="";$("#"+C+"_filter_third").selectedIndex=0;$("#"+C+"_filter_third").disabled="disabled";$("#"+C+"_filter_second").style.backgroundColor="white";$("#"+C+"_filter_third").style.backgroundColor="white";var G=$("#"+C+"_filter_third");clearSelect(G);var D=document.createElement("option");D.value="";D.text="3차 분류 (전체 보기)";G.add(D);if($("#"+C+"_filter_second").value!==""){B.innerHTML="							#"+C+" span.equip:not(."+E+") {								display:none;							}							#"+C+" span.run:not(."+E+") {								display:none;							}							#"+C+" span.get:not(."+E+") {								display:none;							}														#"+C+" tr.equip:not(."+E+") {								display:none;							}							#"+C+" tr.run:not(."+E+") {								display:none;							}							#"+C+" tr.get:not(."+E+") {								display:none;							}";$("#"+C+"_filter_second").style.backgroundColor="#F4FA58";$("#"+C+"_filter_third").disabled="";var A=[];for(var z=0;z<itemList.length;z++){if(A.indexOf(itemList[z]["sort3"])===-1&&itemList[z]["sort2"]===E&&itemList[z]["sort3"]!==""){A.push(itemList[z]["sort3"])}}var G=$("#"+C+"_filter_third");clearSelect(G);var D=document.createElement("option");D.value="";D.text="3차 분류 (전체 보기)";G.add(D);var D=document.createElement("option");D.value="";D.disabled="disabled";D.text="===============";G.add(D);for(C=0;C<A.length;C++){var D=document.createElement("option");D.value=A[C];D.text=A[C];G.add(D)}}}catch(F){alert('＊경고 : "2차 분류" 필터링을 사용할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#"+C+"_filter_second").selectedIndex=0}}$("#"+v+"_filter_third").onchange=(function(z){return function(){w(z)}})(v);function w(A){var z=$("#style_"+A+"_filter_third");var B=$("#"+A+"_filter_third").value;try{if($("#"+A+"_filter_third").value!==""){z.innerHTML="							#"+A+" span.equip:not(."+B+") {								display:none;							}							#"+A+" span.run:not(."+B+") {								display:none;							}							#"+A+" span.get:not(."+B+") {								display:none;							}														#"+A+" tr.equip:not(."+B+") {								display:none;							}							#"+A+" tr.run:not(."+B+") {								display:none;							}							#"+A+" tr.get:not(."+B+") {								display:none;							}";$("#"+A+"_filter_third").style.backgroundColor="#F4FA58"}else{z.innerHTML="";$("#"+A+"_filter_third").style.backgroundColor="white"}}catch(C){alert('＊경고 : "3차 분류" 필터링을 사용할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#"+A+"_filter_second").selectedIndex=0}}$("#"+v+"_filter_level").onchange=(function(z){return function(){t(z)}})(v);function t(A){var z=$("#style_"+A+"_filter_level");var B="lv"+$("#"+A+"_filter_level").value;try{if($("#"+A+"_filter_level").value!==""){z.innerHTML="							#"+A+" span.equip:not(."+B+") {								display:none;							}														#"+A+" tr.equip:not(."+B+") {								display:none;							}";$("#"+A+"_filter_level").style.backgroundColor="#F4FA58"}else{z.innerHTML="";$("#"+A+"_filter_level").style.backgroundColor="white"}}catch(C){alert('＊경고 : "레벨 분류" 필터링을 사용할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#"+A+"_filter_level").selectedIndex=0}}$("#"+v+"_filter_clear").onclick=(function(z){return function(){u(z)}})(v);function u(z){$("#style_"+z+"_filter_first").innerHTML="";$("#style_"+z+"_filter_second").innerHTML="";$("#style_"+z+"_filter_third").innerHTML="";$("#style_"+z+"_filter_level").innerHTML="";$("#"+z+"_filter_first").selectedIndex=0;$("#"+z+"_filter_second").selectedIndex=0;$("#"+z+"_filter_third").selectedIndex=0;$("#"+z+"_filter_level").selectedIndex=0;$("#"+z+"_filter_first").style.backgroundColor="white";$("#"+z+"_filter_second").style.backgroundColor="white";$("#"+z+"_filter_third").style.backgroundColor="white";$("#"+z+"_filter_level").style.backgroundColor="white";$("#"+z+"_filter_second").disabled="disabled";$("#"+z+"_filter_third").disabled="disabled"}})(s[p])}$("#record_check_cost").setAttribute("checked","checked");$("#record_check_cost").onclick=function(){var i=$("#style_record_check_cost");try{if($("#record_check_cost").checked){i.innerHTML="						#record span.cost {							display:inline;						}"}else{i.innerHTML=""}}catch(t){alert('＊경고 : "소모 초대장" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#record_check_cost").checked=false}};$("#record_check_difficulty").setAttribute("checked","checked");$("#record_check_difficulty").onclick=function(){var i=$("#style_record_check_difficulty");try{if($("#record_check_difficulty").checked){i.innerHTML="#record span.difficulty_0, #record span.difficulty_1 {							display:inline;						}"}else{i.innerHTML=""}}catch(t){alert('＊경고 : "획득 난이도" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#record_check_difficulty").checked=false}};$("#record_check_quantity").setAttribute("checked","checked");$("#record_check_quantity").onclick=function(){var i=$("#style_record_check_quantity");try{if($("#record_check_quantity").checked){i.innerHTML="#record span.quantity {							display:inline;						}"}else{i.innerHTML=""}}catch(t){alert('＊경고 : "중복 횟수" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#record_check_quantity").checked=false}};$("#inventory_check_cost").onclick=function(){var i=$("#style_inventory_check_cost");try{if($("#inventory_check_cost").checked){i.innerHTML="#inventory_display table .col_6 span.cost {							display:inline;						}"}else{i.innerHTML=""}}catch(t){alert('＊경고 : "첫 획득시 소모 초대장" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#inventory_check_cost").checked=false}};$("#inventory_check_all").onclick=function(){var i=$("#style_inventory_check_all");try{if($("#inventory_check_all").checked){i.innerHTML="#inventory_display table tr.not_show {							display:inline;						}"}else{i.innerHTML=""}}catch(t){alert('＊경고 : "모든 아이템 보기" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#inventory_check_all").checked=false}};$("#set_check_cost").onclick=function(){var i=$("#style_set_check_cost");try{if($("#set_check_cost").checked){i.innerHTML="#set_display table .col_6 span.cost {							display:inline;						}"}else{i.innerHTML=""}}catch(t){alert('＊경고 : "첫 획득시 소모 초대장" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#set_check_cost").checked=false}};$("#set_check_all").onclick=function(){var i=$("#style_set_check_all");try{if($("#set_check_all").checked){i.innerHTML="#set_display table tr.not_show {							display:inline;						}"}else{i.innerHTML=""}}catch(t){alert('＊경고 : "모든 아이템&세트" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#set_check_all").checked=false}};$("#set_check_only").onclick=function(){var i=$("#style_set_check_only");try{if($("#set_check_only").checked){i.innerHTML="#set_display table tr:not(.hap) {							display:none;						}"}else{i.innerHTML=""}}catch(t){alert('＊경고 : "세트만 보기" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#set_check_only").checked=false}};$("#craft_check_have").onclick=function(){var u=$("#style_craft_check_available");var i=$("#style_craft_check_all");try{u.innerHTML="";i.innerHTML=""}catch(t){alert('＊경고 : "조각 보유 아이템만 보기" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#craft_check_available").checked=false}};$("#craft_check_available").onclick=function(){var u=$("#style_craft_check_available");var i=$("#style_craft_check_all");try{u.innerHTML="#craft_display table tr:not(.available) {						display:none;}";i.innerHTML=""}catch(t){alert('＊경고 : "제작 가능 아이템만 보기" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#craft_check_available").checked=false}};$("#craft_check_all").onclick=function(){var u=$("#style_craft_check_available");var i=$("#style_craft_check_all");try{u.innerHTML="";i.innerHTML="#craft_display table tr.not_show {						display:inline;}"}catch(t){alert('＊경고 : "모든 아이템 보기" 설정을 변경할 수 없습니다.\n(브라우저가 특정 기능을 지원하지 않습니다.)');$("#craft_check_all").checked=false}};$("#craft_check_all").click();$("#character_type").onchange=function(){if(confirm('＊경고 : 한번 정한 캐릭터 직업은 초기화하기 전엔 바꿀 수 없습니다.\n\n"'+characterList[$("#character_type").value]["name"]+'"\n\n이걸로 캐릭터 직업을 정하시겠습니까?')){$("#character_type").disabled="disabled";myCharacter=$("#character_type").value;clearCharacterClass();$("#character_sprite").classList.add($("#character_type").value);setEquip();shift("equip");saveData()}else{$("#character_type").selectedIndex=0}};for(var p=0;p<partList.length;p++){(function(t){$("#list_"+partList[t]+"_enchant_run").onmouseover=function(){if(enchantList.enchanting===0&&wearingList[partList[t]]!==null){var i=wearingList[partList[t]]["name"];var u=wearingList[partList[t]]["icon"];var w=wearingList[partList[t]]["enchant"];var v=enchantList.cost[w];var x=enchantList.chance[w];$("#enchant_icon").className="";$("#enchant_icon").style.backgroundPosition=spritePosition(u,1);$("#enchant_text").innerHTML="+"+(w+1).toString()+"단계 강화 - 비용 : "+setWon(v)+" Gold, 확률 : "+(x*100).toString()+"%"}};$("#list_"+partList[t]+"_enchant_run").onmouseout=function(){if(enchantList.enchanting===0){$("#enchant_icon").className="init";$("#enchant_icon").style.backgroundPosition="0px 0px";$("#enchant_text").innerHTML="강화기 대기 중"}};$("#list_"+partList[t]+"_enchant_run").onclick=function(){if(wearingList[partList[t]]["enchant"]===20){alert("※ 경고 : 이미 최대치(+20)까지 강화하였습니다.");return}if(wearingList[partList[t]]===null){alert("※ 경고 : 기본 장비는 강화할 수 없습니다.");return}if(runningState!==""){alert("※ 시뮬레이터 실행 중에는 강화할 수 없습니다.");return}var i=wearingList[partList[t]]["name"];var u=wearingList[partList[t]]["icon"];var w=wearingList[partList[t]]["enchant"];var v=enchantList.cost[w];var x=enchantList.chance[w];if($("#equip_check_enchant").checked===false){if(!confirm("+"+w+" "+i+"을(를) 강화하시겠습니까?")){return}}doEnchant(wearingList[partList[t]],partList[t],0)}})(p)}$("#record_check_reset").onclick=function(){if(confirm("\n획득 기록을 초기화하시겠습니까?					\n˙(각종 아이템 획득 및 소모 도전장 수치, 인벤토리, 세트 아이템 창은 초기화되지 않습니다)")){$("#record").innerHTML="";content_text[0]=""}};$("#inventory_check_confirm").onclick=function(){if($("#inventory_check_confirm").checked){$("#set_check_confirm").checked=true}else{$("#set_check_confirm").checked=false}};$("#set_check_confirm").onclick=function(){if($("#set_check_confirm").checked){$("#inventory_check_confirm").checked=true}else{$("#inventory_check_confirm").checked=false}};$("#disassemble_1").onclick=function(){var t=0;for(p=0;p<itemList.length;p++){if(itemList[p]["have"]>1){t+=itemList[p]["have"]-1}}if(t===0){alert("※ 경고 : 현재 중복 에픽 아이템이 없습니다.");return}else{if(confirm("\n중복 에픽 아이템을 각각 하나씩만 남기고 모두 해체하시겠습니까?\n(총 "+t.toString()+'개의 에픽 아이템이 해체됩니다.)\n\n※ 설정창에서 "코스모소울 자동 해체" 여부\n　- 자동 해체 ON : 실질 초대장 소모량 감소\n　- 자동 해체 OFF : 코스모소울 보유량 증가')){var u=0;if(!$("#inventory_check_confirm").checked||!$("#set_check_confirm").checked){u=1;$("#set_check_confirm").checked=true;$("#inventory_check_confirm").checked=true}var i=0;for(p=0;p<itemList.length;p++){if(itemList[p]["have"]>1){var w=itemList[p]["have"]-1;recycle(p,w);if($("#option_soul").checked){i+=disCount("초대장",itemList[p]["level"])*w}else{i+=disCount("코스모소울",itemList[p]["level"])*w}}}if(u===1){$("#set_check_confirm").checked=false;$("#inventory_check_confirm").checked=false}if($("#option_soul").checked){var v='"중복 에픽 아이템 일괄 해체"가 완료되었습니다.\n(실질 소모 초대장 감소 : '+thousand(i)+"장)\n(실질 골드 환산 감소 : "+setWon(i*gold)+" Gold)"}else{var v='"중복 에픽 아이템 일괄 해체"가 완료되었습니다.\n(코스모소울 보유량 증가 : '+thousand(i)+"개)"}alert(v)}}};$("#disassemble_other").onclick=function(){if(myCharacter===""){alert("※ 경고 : 내 캐릭터 직업이 지정되지 않았습니다.\n'장착' 메뉴에서 캐릭터 직업을 먼저 지정해주세요.");return}var t=[];for(p=0;p<itemList.length;p++){if(itemList[p]["have"]>0&&(itemList[p]["class"]!==""&&itemList[p]["class"].indexOf(myCharacter)<0)){t.push(itemList[p]["name"])}}if(t.length===0){alert("※ 경고 : 현재 타직업 장비가 없습니다.");return}else{if(confirm("\n타직업 장비를 모두 해체하시겠습니까?\n(총 "+(t.length).toString()+'개의 에픽 아이템이 해체됩니다.)\n\n※ 설정창에서 "코스모소울 자동 해체" 여부\n　- 자동 해체 ON : 실질 초대장 소모량 감소\n　- 자동 해체 OFF : 코스모소울 보유량 증가')){var u=0;if(!$("#inventory_check_confirm").checked||!$("#set_check_confirm").checked){u=1;$("#set_check_confirm").checked=true;$("#inventory_check_confirm").checked=true}var i=0;for(p=0;p<itemList.length;p++){if(t.indexOf(itemList[p]["name"])>=0){var w=itemList[p]["have"];recycle(p,w);if($("#option_soul").checked){i+=disCount("초대장",itemList[p]["level"])*w}else{i+=disCount("코스모소울",itemList[p]["level"])*w}}}if(u===1){$("#set_check_confirm").checked=false;$("#inventory_check_confirm").checked=false}if($("#option_soul").checked){var v='"타직업 장비 일괄 해체"가 완료되었습니다.\n(실질 소모 초대장 감소 : '+thousand(i)+"장)\n(실질 골드 환산 감소 : "+setWon(i*gold)+" Gold)"}else{var v='"타직업 장비 일괄 해체"가 완료되었습니다.\n(코스모소울 보유량 증가 : '+thousand(i)+"개)"}alert(v)}}};$("#disassemble_2").onclick=function(){var t=0;for(p=0;p<itemList.length;p++){if(itemList[p]["set"]!==""&&itemList[p]["have"]>1){t+=itemList[p]["have"]-1}}if(t===0){alert("※ 경고 : 현재 중복 세트 아이템이 없습니다.");return}else{if(confirm("\n중복 세트 아이템들을 각각 하나씩만 남기고 모두 해체하시겠습니까?\n(총 "+t.toString()+'개의 세트 아이템이 해체됩니다.)\n\n※ 설정창에서 "코스모소울 자동 해체" 여부\n　- 자동 해체 ON : 실질 초대장 소모량 감소\n　- 자동 해체 OFF : 코스모소울 보유량 증가')){var u=0;if(!$("#inventory_check_confirm").checked||!$("#set_check_confirm").checked){u=1;$("#set_check_confirm").checked=true;$("#inventory_check_confirm").checked=true}var i=0;for(p=0;p<itemList.length;p++){if(itemList[p]["set"]!==""&&itemList[p]["have"]>1){var w=itemList[p]["have"]-1;recycle(p,w);if($("#option_soul").checked){i+=disCount("초대장",itemList[p]["level"])*w}else{i+=disCount("코스모소울",itemList[p]["level"])*w}}}if(u===1){$("#set_check_confirm").checked=false;$("#inventory_check_confirm").checked=false}if($("#option_soul").checked){var v='"중복 에픽 아이템 일괄 해체"가 완료되었습니다.\n(실질 소모 초대장 감소 : '+thousand(i)+"장)\n(실질 골드 환산 감소 : "+setWon(i*gold)+" Gold)"}else{var v='"중복 에픽 아이템 일괄 해체"가 완료되었습니다.\n(코스모소울 보유량 증가 : '+thousand(i)+"개)"}alert(v)}}};$("#dungeon").onchange=function(){dungeon_select()};$("#start1").onclick=function(){if(runningState===""){if($("#option_sound").checked&&myCharacter==="beckey"){if(!sfxList.beckey_start.paused){sfxList.beckey_start.paused();sfxList.beckey_start.currentTime=0}sfxList.beckey_start.play()}runningState="trigger";$("#character_sprite").classList.remove("wait");$("#character_sprite").classList.add("attack");onoff(1);getEpicList();trigger(1,0)}else{runningState="";$("#character_sprite").classList.remove("attack");$("#character_sprite").classList.add("wait");if(playMode!=="normal"){hellgate=lifeList[input.dungeon];$("#hellgate_life").innerHTML=thousand(hellgate)}else{hellgate=1}objective=[];onoff(0)}};$("#start2").onclick=function(){if(runningState===""){if($("#option_sound").checked&&myCharacter==="beckey"){if(!sfxList.beckey_start.paused){sfxList.beckey_start.paused();sfxList.beckey_start.currentTime=0}sfxList.beckey_start.play()}if(setObjective("run")===true){runningState="trigger";$("#character_sprite").classList.remove("wait");$("#character_sprite").classList.add("attack");onoff(2);getEpicList();trigger(2,0)}}else{var i="<span class='system'>====================&lt;탐색 종료&gt;====================";i+="<br/>※ 종료 조건 : 수동 정지";i+="<br/>================================================</span>";content_text[0]+=i;$("#record").innerHTML=content_text[0];if($("#record").style.display==="block"){$("#record").scrollTop=$("#record").scrollHeight}$("#character_sprite").classList.remove("attack");$("#character_sprite").classList.add("wait");if(playMode!=="normal"){hellgate=lifeList[input.dungeon];$("#hellgate_life").innerHTML=thousand(hellgate)}else{hellgate=1}objective=[];switch(runningState){case"trigger":runningState="";onoff(0);break;case"simulate":runningState="";onoff("drop");break}}};$("#result_button_epicDisassemble").onclick=function(){alert("※ 에픽 해체는 인벤토리 항목에서 이용하실 수 있습니다.\n\n(각 아이템별마다 개별적으로 실시)");shift("inventory")};$("#result_button_soulDisassemble").onclick=function(){var i=prompt("해체하실 코스모소울 개수를 입력하세요.\n(현재 보유량 : "+thousand(get.soul_have)+" 개)\n\n※ 보유량 이상의 수치를 입력하면, 모든 코스모소울을 해체합니다.");if(!isNumber(i)){alert("※ 경고 : 숫자를 입력하지 않았거나, 취소를 누르셨습니다.\n다시 시도해주세요.")}else{var t=Math.min(i,get.soul_have);get.soul_have-=t;$("#result_soul_have").innerHTML=thousand(get.soul_have);cost.invite_real-=cutList[0]*t;$("#cost_real").innerHTML=thousand(cost.invite_real);$("#cost_gold_real").innerHTML=setWon(cost.invite_real*gold+cost.gold_real);if(get.soul_have<=0){$("#result_button_soulDisassemble").disabled="disabled";$("#result_button_soulDisassemble").value="없음"}}};$("#pot_tradable").onchange=function(){setPotOpen($("#pot_tradable").value)};$("#pot_open").onclick=function(){if(runningState!==""){alert("※ 시뮬레이터 실행 중에는 항아리를 개봉할 수 없습니다.");return}if(potList.opening===0){if($("#pot_type").value==="무기"&&myCharacter===""){alert('※ 무기 항아리를 개봉하려면 캐릭터 직업을 지정해야 합니다.캐릭터 직업은 "장착" 탭에서 지정할 수 있습니다.');return}potList.opening=1;setPotOpen("cancel");openPot($("#pot_type").value,$("#pot_tradable").value,0)}else{potList.opening=0;setPotOpen($("#pot_tradable").value)}};$("#cost_set_gold").onclick=function(){var i=prompt("도전장 골드 가격을 입력하세요.\n(현재 가격 : "+thousand(gold)+" Gold)");if(!isNumber(i)){alert("※ 경고 : 숫자를 입력하지 않았거나, 취소를 누르셨습니다.\n다시 시도해주세요.")}else{gold=i;$("#cost_gold").innerHTML=setWon(cost.invite*gold+cost.gold);$("#cost_gold_real").innerHTML=setWon(cost.invite_real*gold+cost.gold_real)}};$("#cost_compare").onclick=function(){if(gold<=0){alert("※ 경고 : 도전장 골드 가격이 제대로 입력되지 않았습니다.\n(도전장 골드 가격이 입력되어야 현금 시세 계산이 가능함)");return}var i=prompt("던파 골드당 현금 시세를 입력해주세요.\n(1,000만골드 기준, 현재 도전장 골드 가격 : "+thousand(gold)+" Gold)");if(!isNumber(i)){alert("※ 경고 : 숫자를 입력하지 않았거나, 취소를 누르셨습니다.\n다시 시도해주세요.")}else{alert("현재 쓴 돈으로 총 "+Math.floor(cost.invite*gold/10000000*i/15000).toString()+"마리의 치킨을 사먹을 수 있습니다.\n(현금 환산 : "+setWon(Math.floor(cost.invite*gold/10000000*i))+"원)\n(치킨 1마리 당 15,000원 기준)")}};$("#reset").onclick=function(){var u="";if($("#option_basicItem").checked===true){u+="\n\n(입력해둔 기본장비는 초기화되지 않습니다. - 옵션 참고)"}if(confirm("초기화를 하면 모든 기록이 사라집니다.\n'정말로' 초기화하시겠습니까?"+u)){for(var v=0;v<maxQuantity;v++){coordinate[v-1]=[0,0];$("#item"+v.toString()).style.msTransform="translate(0px,0px)";$("#item"+v.toString()).style.webkitTransform="translate(0px,0px)";$("#item"+v.toString()).style.transform="translate(0px,0px)";$("#item_name"+v.toString()).className="item_name";$("#item_name"+v.toString()).style.visibility="hidden";$("#description"+v.toString()).style.msTransform="translate(0px,0px)";$("#description"+v.toString()).style.webkitTransform="translate(0px,0px)";$("#description"+v.toString()).style.transform="translate(0px,0px)";$("#item_img"+v.toString()).style.visibility="hidden";$("#effect_appear"+v.toString()).style.visibility="hidden";$("#effect_land"+v.toString()).style.visibility="hidden";$("#effect_wait"+v.toString()).style.visibility="hidden";clearTimeout(autoLooting[v-1]);clearTimeout(autoEffect[v-1]);$("#item_img"+v.toString()).className="item_img"}count=0;dateCount=0;$("#round_count").innerHTML=0;$("#round_difficulty").innerHTML="";dateState.changed=1;setDate();objective=[];$("#record").innerHTML="";content_text[0]="";$("#inventory_table").innerHTML="";generateInventory();$("#set_table").innerHTML="";generateSet();$("#craft_table").innerHTML="";generateCraft();collect=0;$("#inventory_check_collect").innerHTML="0";get={epic_get:0,epic_have:0,soul_get:0,soul_have:0,invite_get:0,beed_get:0};$("#result_epic_get").innerHTML="0";$("#result_epic_have").innerHTML="0";$("#result_soul_get").innerHTML="0";$("#result_soul_have").innerHTML="0";$("#result_cost_get").innerHTML="0";$("#result_beed_get").innerHTML="0";cost={invite:0,invite_real:0,gold:0,gold_real:0};$("#cost_invitation").innerHTML="0";$("#cost_real").innerHTML="0";$("#cost_gold").innerHTML="0";$("#cost_gold_real").innerHTML="0";for(v=0;v<itemList.length;v++){itemList[v]["get"]=0;itemList[v]["have"]=0;itemList[v]["firstCount"]=0;itemList[v]["firstInvite"]=0;itemList[v]["firstReal"]=0;itemList[v]["jogak"]=0;if($("#option_basicItem").checked===true&&itemList[v]["init"]===1){itemList[v]["init"]=1}else{itemList[v]["init"]=0}itemList[v]["enchant"]=0}checkObjective("setting");myCharacter="";$("#character_type").selectedIndex=0;$("#character_type").disabled="";setPower();tower=0;setPotOpen($("#pot_tradable").value);for(var t in wearingList){if(wearingList.hasOwnProperty(t)){wearingList[t]=null}}0;for(var v=0;v<partList.length;v++){setEquip(partList[v],"")}var x=["record","inventory","set","craft"];for(var v=0;v<x.length;v++){$("#style_"+x[v]+"_filter_first").innerHTML="";$("#style_"+x[v]+"_filter_second").innerHTML="";$("#style_"+x[v]+"_filter_third").innerHTML="";$("#style_"+x[v]+"_filter_level").innerHTML="";$("#"+x[v]+"_filter_first").selectedIndex=0;$("#"+x[v]+"_filter_second").selectedIndex=0;$("#"+x[v]+"_filter_third").selectedIndex=0;$("#"+x[v]+"_filter_level").selectedIndex=0;$("#"+x[v]+"_filter_first").style.backgroundColor="white";$("#"+x[v]+"_filter_second").style.backgroundColor="white";$("#"+x[v]+"_filter_third").style.backgroundColor="white";$("#"+x[v]+"_filter_level").style.backgroundColor="white";$("#"+x[v]+"_filter_second").disabled="disabled";$("#"+x[v]+"_filter_third").disabled="disabled"}onoff(0);var w="";if($("#option_basicItem").checked===true){w+="\n\n(일부 장비들은 기본장비로서 수량이 1로 조정되었습니다)\n";for(var v=0;v<itemList.length;v++){if(itemList[v]["init"]===1){w+="　"+itemList[v]["name"]+"\n";update("에픽",itemList[v])}}}alert("모든 기록이 초기화되었습니다."+w);saveData()}};if(a==="continue"){opt_name_normal("on");opt_name_jogak("on");opt_character("on");opt_bgm_type("on")}$("#option_name_normal").onclick=function(){saveData();optionList.name_normal=$("#option_name_normal").checked;opt_name_normal()};$("#option_name_jogak").onclick=function(){saveData();optionList.name_jogak=$("#option_name_jogak").checked;opt_name_jogak()};$("#option_character").onclick=function(){saveData();optionList.character=$("#option_character").checked;opt_character()};$("#option_bgm").onclick=function(){optionList.bgm=$("#option_bgm").checked;opt_bgm_type();saveData()};$("#bgm_type").onchange=function(){optionList.bgm_type=$("#bgm_type").value;opt_bgm_type();saveData()};$("#option_sound").onclick=function(){optionList.sound=$("#option_sound").checked;saveData()};$("#option_hitsound").onclick=function(){optionList.hitsound=$("#option_hitsound").checked;saveData()};$("#option_gabriel").onclick=function(){optionList.gabriel=$("#option_gabriel").checked;saveData()};$("#gabriel_type").onchange=function(){optionList.gabriel_type=$("#gabriel_type").value;saveData()};$("#option_soul").onclick=function(){optionList.soul=$("#option_soul").checked;saveData()};$("#option_button").onclick=function(){if($("#option").style.display!=="none"){$("#option").style.display="none";$("#option_button").className="";if($("#option_sound").checked===true){sfxList.close.play()}}else{$("#option").style.display="block";$("#option_button").className="selected";if($("#option_sound").checked===true){sfxList.open.play()}}};$("html").addEventListener("click",function(i){if($("#option").style.display!=="none"){if(i.target!==$("#option")&&i.target.parentNode!==$("#option")&&i.target.parentNode.parentNode!==$("#option")&&i.target.parentNode.parentNode.parentNode!==$("#option")&&i.target!==$("#option_button")){$("#option").style.display="none";$("#option_button").className="";if($("#option_sound").checked===true){sfxList.close.play()}}}});$("#shift1").onclick=function(){if(right_display!=="record"){shift("record")}else{shift("")}};$("#shift2").onclick=function(){if(right_display!=="inventory"){shift("inventory")}else{shift("")}};$("#shift3").onclick=function(){if(right_display!=="set"){shift("set")}else{shift("")}};$("#shift4").onclick=function(){if(right_display!=="craft"){shift("craft")}else{shift("")}};$("#shift5").onclick=function(){if(right_display!=="equip"){shift("equip")}else{shift("")}};$("#func_basicItem").onclick=function(){var w="";var t=prompt("※ 기본장비로 설정하려는 장비 이름을 \"정확히\" 입력하세요.\n(인벤토리에서 '모든 아이템 보기' 설정 후 이름 확인가능)\n");if(!t){return}var v=null;for(var u=0;u<itemList.length;u++){if(t===itemList[u]["name"]){itemList[u]["init"]=1;v=itemList[u]}}if(!v){alert('※ 해당 장비를 찾지 못했습니다.\n\n"'+t+'"');return}else{update("에픽",v);try{if($("#option_sound").checked){sound_appear.pause();sound_appear.currentTime=0;sound_appear.play()}}catch(x){}var y="";for(var u=0;u<itemList.length;u++){if(itemList[u]["init"]===1){y+="　"+itemList[u]["name"]+"\n"}}alert('※ 해당 장비를 인벤토리에 등록하였습니다.\n\n"'+t+'"\n\n현재 등록된 기본장비 리스트 : \n'+y);saveData();return}};$("#shift_chance").onclick=function(){if(right_display!=="chance"){$("#option").style.display="none";$("#option_button").className="";$("#option_button").innerHTML=$("#option_button").innerHTML.replace("닫기","설정");shift("chance");setChance("show")}else{shift("")}};var q=$$("#popup_chance_main input[type='text']");for(var p=0;p<q.length;p++){q[p].onfocus=function(){this.select()};q[p].onclick=function(){this.select()}}$("#popup_chance_apply").onclick=function(){setChance("apply")};$("#popup_chance_cancel").onclick=function(){setChance("show");shift("")};$("#popup_chance_reset").onclick=function(){setChance("reset")};$("#popup_chance_perfect").onclick=function(){setChance("perfect")};for(var p=0;p<dateSettingList.length;p++){dateSettingList[p]=dateSettingDefault[p]}$("#date_config").onclick=function(){if(count>0){alert('※ 경고 : 피로도 설정은 첫 실행 이전에만 가능합니다.\n"모두 초기화"를 클릭하신 후 설정을 해주세요.');return}switch($("#date_config").className){case"":$("#date_config").className="cancel";$("#date_config").value="설정 취소";$("#date_setting").style.display="block";break;case"cancel":for(var t=1;t<=7;t++){$("#date_setting_"+t.toString()).value=dateSettingDefault[t-1].toString()}$("#date_config").className="";$("#date_config").value="피로도 설정";$("#date_setting").style.display="none";break}};for(var p=1;p<=dateSettingList.length;p++){$("#date_setting_"+p.toString()).onfocus=function(){this.select()}}$("#date_apply").onclick=function(){for(var t=1;t<=dateSettingList.length;t++){if(!isNumber($("#date_setting_"+t.toString()).value)){alert('※ 경고 : 날짜 환산 설정창 - "'+dateSettingName[t-1]+'" 값이 입력되었습니다.');return}}if(parseInt($("#date_setting_3").value)===0){alert('※ 경고 : 1회 피로도 소모치는 "0"이 될 수 없습니다.');return}for(var t=1;t<=dateSettingList.length;t++){dateSettingList[t-1]=parseInt($("#date_setting_"+t.toString()).value)}dateSettingWeek=$("#date_setting_week").value.split(",");dateState.changed=1;setDate();alert("※ 날짜 전환 설정이 정상적으로 변경되었습니다.");$("#date_config").className="";$("#date_config").value="피로도 설정";$("#date_setting").style.display="none";saveData()};$("#date_cancel").onclick=function(){$("#date_config").className="";$("#date_config").value="피로도 설정";$("#date_setting").style.display="none"};$("html").addEventListener("click",function(i){if(i.target!==$("#date_setting")&&i.target.parentNode!==$("#date_setting")&&i.target.parentNode.parentNode!==$("#date_setting")&&i.target!==$("#date_config")){if($("#date_config").className==="cancel"){$("#date_config").className="";$("#date_config").value="피로도 설정";$("#date_setting").style.display="none"}}});shortcut.add("Page_up",function(){if($("#channel").selectedIndex!==0){$("#channel").selectedIndex-=1}});shortcut.add("Page_down",function(){if($("#channel").selectedIndex!==$("#channel").length-1){$("#channel").selectedIndex+=1}});$("#dungeon").onmouseover=function(){$("#notice_dungeon").style.display="block"};$("#dungeon").onmouseout=function(){$("#notice_dungeon").style.display="none"};$("#difficulty").onmouseover=function(){$("#notice_difficulty").style.display="block"};$("#difficulty").onmouseout=function(){$("#notice_difficulty").style.display="none"};$("#channel").onmouseover=function(){$("#notice_channel").style.display="block"};$("#channel").onmouseout=function(){$("#notice_channel").style.display="none"}})};